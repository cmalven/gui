!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).gui=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},c={}.toString,d=function(t){return c.call(t).slice(8,-1)},h="".split,f=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==d(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},_=function(t){return f(p(t))},m=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t,e){if(!m(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!m(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!m(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!m(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},v={}.hasOwnProperty,b=function(t,e){return v.call(t,e)},y=r.document,E=m(y)&&m(y.createElement),w=function(t){return E?y.createElement(t):{}},S=!o&&!i((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,A={f:o?x:function(t,e){if(t=_(t),e=g(e,!0),S)try{return x(t,e)}catch(t){}if(b(t,e))return l(!u.f.call(t,e),t[e])}},M=function(t){if(!m(t))throw TypeError(String(t)+" is not an object");return t},C=Object.defineProperty,T={f:o?C:function(t,e,n){if(M(t),e=g(e,!0),M(n),S)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},I=o?function(t,e,n){return T.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},O=function(t,e){try{I(r,t,e)}catch(n){r[t]=e}return e},k=r["__core-js_shared__"]||O("__core-js_shared__",{}),N=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(t){return N.call(t)});var D,R,P,L=k.inspectSource,H=r.WeakMap,B="function"==typeof H&&/native code/.test(L(H)),G=e((function(t){(t.exports=function(t,e){return k[t]||(k[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),F=0,j=Math.random(),z=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++F+j).toString(36)},V=G("keys"),Y=function(t){return V[t]||(V[t]=z(t))},U={},X=r.WeakMap;if(B){var W=new X,q=W.get,K=W.has,Q=W.set;D=function(t,e){return Q.call(W,t,e),e},R=function(t){return q.call(W,t)||{}},P=function(t){return K.call(W,t)}}else{var J=Y("state");U[J]=!0,D=function(t,e){return I(t,J,e),e},R=function(t){return b(t,J)?t[J]:{}},P=function(t){return b(t,J)}}var Z,$,tt={set:D,get:R,has:P,enforce:function(t){return P(t)?R(t):D(t,{})},getterFor:function(t){return function(e){var n;if(!m(e)||(n=R(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},et=e((function(t){var e=tt.get,n=tt.enforce,i=String(String).split("String");(t.exports=function(t,e,o,a){var s=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||b(o,"name")||I(o,"name",e),n(o).source=i.join("string"==typeof e?e:"")),t!==r?(s?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=o:I(t,e,o)):u?t[e]=o:O(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||L(this)}))})),nt=r,rt=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?rt(nt[t])||rt(r[t]):nt[t]&&nt[t][e]||r[t]&&r[t][e]},ot=Math.ceil,at=Math.floor,st=function(t){return isNaN(t=+t)?0:(t>0?at:ot)(t)},ut=Math.min,lt=function(t){return t>0?ut(st(t),9007199254740991):0},ct=Math.max,dt=Math.min,ht=function(t,e){var n=st(t);return n<0?ct(n+e,0):dt(n,e)},ft=function(t){return function(e,n,r){var i,o=_(e),a=lt(o.length),s=ht(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},pt={includes:ft(!0),indexOf:ft(!1)},_t=pt.indexOf,mt=function(t,e){var n,r=_(t),i=0,o=[];for(n in r)!b(U,n)&&b(r,n)&&o.push(n);for(;e.length>i;)b(r,n=e[i++])&&(~_t(o,n)||o.push(n));return o},gt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vt=gt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return mt(t,vt)}},yt={f:Object.getOwnPropertySymbols},Et=it("Reflect","ownKeys")||function(t){var e=bt.f(M(t)),n=yt.f;return n?e.concat(n(t)):e},wt=function(t,e){for(var n=Et(e),r=T.f,i=A.f,o=0;o<n.length;o++){var a=n[o];b(t,a)||r(t,a,i(e,a))}},St=/#|\.prototype\./,xt=function(t,e){var n=Mt[At(t)];return n==Tt||n!=Ct&&("function"==typeof e?i(e):!!e)},At=xt.normalize=function(t){return String(t).replace(St,".").toLowerCase()},Mt=xt.data={},Ct=xt.NATIVE="N",Tt=xt.POLYFILL="P",It=xt,Ot=A.f,kt=function(t,e){var n,i,o,a,s,u=t.target,l=t.global,c=t.stat;if(n=l?r:c?r[u]||O(u,{}):(r[u]||{}).prototype)for(i in e){if(a=e[i],o=t.noTargetGet?(s=Ot(n,i))&&s.value:n[i],!It(l?i:u+(c?".":"#")+i,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;wt(a,o)}(t.sham||o&&o.sham)&&I(a,"sham",!0),et(n,i,a,t)}},Nt=Array.isArray||function(t){return"Array"==d(t)},Dt=function(t){return Object(p(t))},Rt=function(t,e,n){var r=g(e);r in t?T.f(t,r,l(0,n)):t[r]=n},Pt=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Lt=Pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ht=G("wks"),Bt=r.Symbol,Gt=Lt?Bt:Bt&&Bt.withoutSetter||z,Ft=function(t){return b(Ht,t)||(Pt&&b(Bt,t)?Ht[t]=Bt[t]:Ht[t]=Gt("Symbol."+t)),Ht[t]},jt=Ft("species"),zt=function(t,e){var n;return Nt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Nt(n.prototype)?m(n)&&null===(n=n[jt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Vt=it("navigator","userAgent")||"",Yt=r.process,Ut=Yt&&Yt.versions,Xt=Ut&&Ut.v8;Xt?$=(Z=Xt.split("."))[0]+Z[1]:Vt&&(!(Z=Vt.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=Vt.match(/Chrome\/(\d+)/))&&($=Z[1]);var Wt=$&&+$,qt=Ft("species"),Kt=function(t){return Wt>=51||!i((function(){var e=[];return(e.constructor={})[qt]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qt=Ft("isConcatSpreadable"),Jt=Wt>=51||!i((function(){var t=[];return t[Qt]=!1,t.concat()[0]!==t})),Zt=Kt("concat"),$t=function(t){if(!m(t))return!1;var e=t[Qt];return void 0!==e?!!e:Nt(t)};kt({target:"Array",proto:!0,forced:!Jt||!Zt},{concat:function(t){var e,n,r,i,o,a=Dt(this),s=zt(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],$t(o)){if(u+(i=lt(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&Rt(s,u,o[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Rt(s,u++,o)}return s.length=u,s}});var te=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ee=[].push,ne=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,u,l,c){for(var d,h,p=Dt(s),_=f(p),m=function(t,e,n){if(te(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}(u,l,3),g=lt(_.length),v=0,b=c||zt,y=e?b(s,g):n?b(s,0):void 0;g>v;v++)if((a||v in _)&&(h=m(d=_[v],v,p),t))if(e)y[v]=h;else if(h)switch(t){case 3:return!0;case 5:return d;case 6:return v;case 2:ee.call(y,d)}else if(i)return!1;return o?-1:r||i?i:y}},re={forEach:ne(0),map:ne(1),filter:ne(2),some:ne(3),every:ne(4),find:ne(5),findIndex:ne(6)},ie=Object.defineProperty,oe={},ae=function(t){throw t},se=function(t,e){if(b(oe,t))return oe[t];e||(e={});var n=[][t],r=!!b(e,"ACCESSORS")&&e.ACCESSORS,a=b(e,0)?e[0]:ae,s=b(e,1)?e[1]:void 0;return oe[t]=!!n&&!i((function(){if(r&&!o)return!0;var t={length:-1};r?ie(t,1,{enumerable:!0,get:ae}):t[1]=1,n.call(t,a,s)}))},ue=re.filter,le=Kt("filter"),ce=se("filter");kt({target:"Array",proto:!0,forced:!le||!ce},{filter:function(t){return ue(this,t,arguments.length>1?arguments[1]:void 0)}});var de,he=Object.keys||function(t){return mt(t,gt)},fe=o?Object.defineProperties:function(t,e){M(t);for(var n,r=he(e),i=r.length,o=0;i>o;)T.f(t,n=r[o++],e[n]);return t},pe=it("document","documentElement"),_e=Y("IE_PROTO"),me=function(){},ge=function(t){return"<script>"+t+"<\/script>"},ve=function(){try{de=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ve=de?function(t){t.write(ge("")),t.close();var e=t.parentWindow.Object;return t=null,e}(de):((e=w("iframe")).style.display="none",pe.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ge("document.F=Object")),t.close(),t.F);for(var n=gt.length;n--;)delete ve.prototype[gt[n]];return ve()};U[_e]=!0;var be=Object.create||function(t,e){var n;return null!==t?(me.prototype=M(t),n=new me,me.prototype=null,n[_e]=t):n=ve(),void 0===e?n:fe(n,e)},ye=Ft("unscopables"),Ee=Array.prototype;null==Ee[ye]&&T.f(Ee,ye,{configurable:!0,value:be(null)});var we,Se=re.findIndex,xe=!0,Ae=se("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){xe=!1})),kt({target:"Array",proto:!0,forced:xe||!Ae},{findIndex:function(t){return Se(this,t,arguments.length>1?arguments[1]:void 0)}}),we="findIndex",Ee[ye][we]=!0;var Me=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))},Ce=re.forEach,Te=Me("forEach"),Ie=se("forEach"),Oe=Te&&Ie?[].forEach:function(t){return Ce(this,t,arguments.length>1?arguments[1]:void 0)};kt({target:"Array",proto:!0,forced:[].forEach!=Oe},{forEach:Oe});var ke=pt.indexOf,Ne=[].indexOf,De=!!Ne&&1/[1].indexOf(1,-0)<0,Re=Me("indexOf"),Pe=se("indexOf",{ACCESSORS:!0,1:0});kt({target:"Array",proto:!0,forced:De||!Re||!Pe},{indexOf:function(t){return De?Ne.apply(this,arguments)||0:ke(this,t,arguments.length>1?arguments[1]:void 0)}});var Le=function(t){return function(e,n,r,i){te(n);var o=Dt(e),a=f(o),s=lt(o.length),u=t?s-1:0,l=t?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=l;break}if(u+=l,t?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=l)u in a&&(i=n(i,a[u],u,o));return i}},He={left:Le(!1),right:Le(!0)}.left,Be=Me("reduce"),Ge=se("reduce",{1:0});kt({target:"Array",proto:!0,forced:!Be||!Ge},{reduce:function(t){return He(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Fe=Kt("splice"),je=se("splice",{ACCESSORS:!0,0:0,1:2}),ze=Math.max,Ve=Math.min;kt({target:"Array",proto:!0,forced:!Fe||!je},{splice:function(t,e){var n,r,i,o,a,s,u=Dt(this),l=lt(u.length),c=ht(t,l),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=l-c):(n=d-2,r=Ve(ze(st(e),0),l-c)),l+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=zt(u,r),o=0;o<r;o++)(a=c+o)in u&&Rt(i,o,u[a]);if(i.length=r,n<r){for(o=c;o<l-r;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:delete u[s];for(o=l;o>l-r+n;o--)delete u[o-1]}else if(n>r)for(o=l-r;o>c;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<n;o++)u[o+c]=arguments[o+2];return u.length=l-r+n,i}});var Ye=T.f,Ue=Function.prototype,Xe=Ue.toString,We=/^\s*function ([^ (]*)/;!o||"name"in Ue||Ye(Ue,"name",{configurable:!0,get:function(){try{return Xe.call(this).match(We)[1]}catch(t){return""}}});var qe="".repeat||function(t){var e=String(p(this)),n="",r=st(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},Ke=1..toFixed,Qe=Math.floor,Je=function(t,e,n){return 0===e?n:e%2==1?Je(t,e-1,n*t):Je(t*t,e/2,n)};kt({target:"Number",proto:!0,forced:Ke&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){Ke.call({})}))},{toFixed:function(t){var e,n,r,i,o=function(t){if("number"!=typeof t&&"Number"!=d(t))throw TypeError("Incorrect invocation");return+t}(this),a=st(t),s=[0,0,0,0,0,0],u="",l="0",c=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*s[n],s[n]=r%1e7,r=Qe(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=s[e],s[e]=Qe(n/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+qe.call("0",7-n.length)+n}return e};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(u="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*Je(2,69,1))-69)<0?o*Je(2,-e,1):o/Je(2,e,1),n*=4503599627370496,(e=52-e)>0){for(c(0,n),r=a;r>=7;)c(1e7,0),r-=7;for(c(Je(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),c(1,1),h(2),l=f()}else c(0,n),c(1<<-e,0),l=f()+qe.call("0",a);return l=a>0?u+((i=l.length)<=a?"0."+qe.call("0",a-i)+l:l.slice(0,i-a)+"."+l.slice(i-a)):u+l}});var Ze=Object.assign,$e=Object.defineProperty,tn=!Ze||i((function(){if(o&&1!==Ze({b:1},Ze($e({},"a",{enumerable:!0,get:function(){$e(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Ze({},t)[n]||"abcdefghijklmnopqrst"!=he(Ze({},e)).join("")}))?function(t,e){for(var n=Dt(t),r=arguments.length,i=1,a=yt.f,s=u.f;r>i;)for(var l,c=f(arguments[i++]),d=a?he(c).concat(a(c)):he(c),h=d.length,p=0;h>p;)l=d[p++],o&&!s.call(c,l)||(n[l]=c[l]);return n}:Ze;kt({target:"Object",stat:!0,forced:Object.assign!==tn},{assign:tn});for(var en in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var nn=r[en],rn=nn&&nn.prototype;if(rn&&rn.forEach!==Oe)try{I(rn,"forEach",Oe)}catch(t){rn.forEach=Oe}}function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sn(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+i+","+o+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+o+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+o+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+",a:"+a+"}":"unknown format"}var un=Array.prototype.forEach,ln=Array.prototype.slice,cn={BREAK:{},extend:function(t){return this.each(ln.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(ln.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=ln.call(arguments);return function(){for(var e=ln.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(un&&t.forEach&&t.forEach===un)t.forEach(e,n);else if(t.length===t.length+0){var r,i=void 0;for(i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments;function a(){r=null,n||t.apply(i,o)}var s=n||!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():ln.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},dn=[{litmus:cn.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:sn},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:sn},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:sn},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:sn}}},{litmus:cn.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:cn.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:cn.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(cn.isNumber(t.r)&&cn.isNumber(t.g)&&cn.isNumber(t.b)&&cn.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(cn.isNumber(t.r)&&cn.isNumber(t.g)&&cn.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(cn.isNumber(t.h)&&cn.isNumber(t.s)&&cn.isNumber(t.v)&&cn.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(cn.isNumber(t.h)&&cn.isNumber(t.s)&&cn.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],hn=void 0,fn=void 0,pn=function(){fn=!1;var t=arguments.length>1?cn.toArray(arguments):arguments[0];return cn.each(dn,(function(e){if(e.litmus(t))return cn.each(e.conversions,(function(e,n){if(hn=e.read(t),!1===fn&&!1!==hn)return fn=hn,hn.conversionName=n,hn.conversion=e,cn.BREAK})),cn.BREAK})),fn},_n=void 0,mn={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(_n=8*e)|t&~(255<<_n)}},gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},bn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yn=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},En=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},wn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Sn=function(){function t(){if(vn(this,t),this.__state=pn.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return bn(t,[{key:"toString",value:function(){return sn(this)}},{key:"toHexString",value:function(){return sn(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function xn(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||Sn.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(Sn.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function An(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||Sn.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(Sn.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}Sn.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=mn.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");cn.extend(t.__state,mn.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Sn.recalculateHSV=function(t){var e=mn.rgb_to_hsv(t.r,t.g,t.b);cn.extend(t.__state,{s:e.s,v:e.v}),cn.isNaN(e.h)?cn.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Sn.COMPONENTS=["r","g","b","h","s","v","hex","a"],xn(Sn.prototype,"r",2),xn(Sn.prototype,"g",1),xn(Sn.prototype,"b",0),An(Sn.prototype,"h"),An(Sn.prototype,"s"),An(Sn.prototype,"v"),Object.defineProperty(Sn.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Sn.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=mn.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Mn=function(){function t(e,n){vn(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return bn(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),Cn={};cn.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){cn.each(t,(function(t){Cn[t]=e}))}));var Tn=/(\d+(\.\d+)?)px/;function In(t){if("0"===t||cn.isUndefined(t))return 0;var e=t.match(Tn);return cn.isNull(e)?0:parseFloat(e[1])}var On={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,i=e;cn.isUndefined(i)&&(i=!0),cn.isUndefined(r)&&(r=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=Cn[e];if(!o)throw new Error("Event type "+e+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":var s=i.x||i.clientX||0,u=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=a.initKeyboardEvent||a.initKeyEvent;cn.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}cn.defaults(a,r),t.dispatchEvent(a)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),On},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),On},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return On},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return On},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return In(e["border-left-width"])+In(e["border-right-width"])+In(e["padding-left"])+In(e["padding-right"])+In(e.width)},getHeight:function(t){var e=getComputedStyle(t);return In(e["border-top-width"])+In(e["border-bottom-width"])+In(e["padding-top"])+In(e["padding-bottom"])+In(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},kn=function(t){function e(t,n){vn(this,e);var r=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),On.bind(r.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return En(e,t),bn(e,[{key:"setValue",value:function(t){var n=yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Mn),Nn=function(t){function e(t,n,r){vn(this,e);var i=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,a=i;if(i.__select=document.createElement("select"),cn.isArray(o)){var s={};cn.each(o,(function(t){s[t]=t})),o=s}return cn.each(o,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)})),i.updateDisplay(),On.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;a.setValue(t)})),i.domElement.appendChild(i.__select),i}return En(e,t),bn(e,[{key:"setValue",value:function(t){var n=yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return On.isActive(this.__select)?this:(this.__select.value=this.getValue(),yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Mn),Dn=function(t){function e(t,n){vn(this,e);var r=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),On.bind(r.__input,"keyup",o),On.bind(r.__input,"change",o),On.bind(r.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),On.bind(r.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return En(e,t),bn(e,[{key:"updateDisplay",value:function(){return On.isActive(this.__input)||(this.__input.value=this.getValue()),yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Mn);function Rn(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var Pn=function(t){function e(t,n,r){vn(this,e);var i=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,cn.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=Rn(i.__impliedStep),i}return En(e,t),bn(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=Rn(t),this}}]),e}(Mn);var Ln=function(t){function e(t,n,r){vn(this,e);var i=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,a=void 0;function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){On.unbind(window,"mousemove",u),On.unbind(window,"mouseup",l),s()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),On.bind(i.__input,"change",(function(){var t=parseFloat(o.__input.value);cn.isNaN(t)||o.setValue(t)})),On.bind(i.__input,"blur",(function(){s()})),On.bind(i.__input,"mousedown",(function(t){On.bind(window,"mousemove",u),On.bind(window,"mouseup",l),a=t.clientY})),On.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,s())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return En(e,t),bn(e,[{key:"updateDisplay",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Pn);function Hn(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var Bn=function(t){function e(t,n,r,i,o){vn(this,e);var a=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(Hn(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){On.unbind(window,"mousemove",u),On.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(Hn(e,n.left,n.right,s.__min,s.__max))}function d(){On.unbind(window,"touchmove",c),On.unbind(window,"touchend",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),On.bind(a.__background,"mousedown",(function(t){document.activeElement.blur(),On.bind(window,"mousemove",u),On.bind(window,"mouseup",l),u(t)})),On.bind(a.__background,"touchstart",(function(t){if(1!==t.touches.length)return;On.bind(window,"touchmove",c),On.bind(window,"touchend",d),c(t)})),On.addClass(a.__background,"slider"),On.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return En(e,t),bn(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",yn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Pn),Gn=function(t){function e(t,n,r){vn(this,e);var i=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,On.bind(i.__button,"click",(function(t){return t.preventDefault(),o.fire(),!1})),On.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return En(e,t),bn(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Mn),Fn=function(t){function e(t,n){vn(this,e);var r=wn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new Sn(r.getValue()),r.__temp=new Sn(0);var i=r;r.domElement=document.createElement("div"),On.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",On.bind(r.__input,"keydown",(function(t){13===t.keyCode&&d.call(this)})),On.bind(r.__input,"blur",d),On.bind(r.__selector,"mousedown",(function(){On.addClass(this,"drag").bind(window,"mouseup",(function(){On.removeClass(i.__selector,"drag")}))})),On.bind(r.__selector,"touchstart",(function(){On.addClass(this,"drag").bind(window,"touchend",(function(){On.removeClass(i.__selector,"drag")}))}));var o,a=document.createElement("div");function s(t){f(t),On.bind(window,"mousemove",f),On.bind(window,"touchmove",f),On.bind(window,"mouseup",l),On.bind(window,"touchend",l)}function u(t){p(t),On.bind(window,"mousemove",p),On.bind(window,"touchmove",p),On.bind(window,"mouseup",c),On.bind(window,"touchend",c)}function l(){On.unbind(window,"mousemove",f),On.unbind(window,"touchmove",f),On.unbind(window,"mouseup",l),On.unbind(window,"touchend",l),h()}function c(){On.unbind(window,"mousemove",p),On.unbind(window,"touchmove",p),On.unbind(window,"mouseup",c),On.unbind(window,"touchend",c),h()}function d(){var t=pn(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function h(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function f(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,a=(r-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return cn.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),cn.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),cn.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),cn.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),cn.extend(a.style,{width:"100%",height:"100%",background:"none"}),zn(a,"top","rgba(0,0,0,0)","#000"),cn.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=r.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",cn.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),On.bind(r.__saturation_field,"mousedown",s),On.bind(r.__saturation_field,"touchstart",s),On.bind(r.__field_knob,"mousedown",s),On.bind(r.__field_knob,"touchstart",s),On.bind(r.__hue_field,"mousedown",u),On.bind(r.__hue_field,"touchstart",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return En(e,t),bn(e,[{key:"updateDisplay",value:function(){var t=pn(this.getValue());if(!1!==t){var e=!1;cn.each(Sn.COMPONENTS,(function(n){if(!cn.isUndefined(t[n])&&!cn.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&cn.extend(this.__color.__state,t)}cn.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;cn.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,zn(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),cn.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),e}(Mn),jn=["-moz-","-o-","-webkit-","-ms-",""];function zn(t,e,n,r){t.style.background="",cn.each(jn,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "}))}var Vn=function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(t){}},Yn='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',Un=function(t,e){var n=t[e];return cn.isArray(arguments[2])||cn.isObject(arguments[2])?new Nn(t,e,arguments[2]):cn.isNumber(n)?cn.isNumber(arguments[2])&&cn.isNumber(arguments[3])?cn.isNumber(arguments[4])?new Bn(t,e,arguments[2],arguments[3],arguments[4]):new Bn(t,e,arguments[2],arguments[3]):cn.isNumber(arguments[4])?new Ln(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Ln(t,e,{min:arguments[2],max:arguments[3]}):cn.isString(n)?new Dn(t,e):cn.isFunction(n)?new Gn(t,e,""):cn.isBoolean(n)?new kn(t,e):null};var Xn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},Wn=function(){function t(){vn(this,t),this.backgroundElement=document.createElement("div"),cn.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),On.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),cn.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;On.bind(this.backgroundElement,"click",(function(){e.hide()}))}return bn(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),cn.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",On.unbind(t.domElement,"webkitTransitionEnd",e),On.unbind(t.domElement,"transitionend",e),On.unbind(t.domElement,"oTransitionEnd",e)};On.bind(this.domElement,"webkitTransitionEnd",e),On.bind(this.domElement,"transitionend",e),On.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-On.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-On.getHeight(this.domElement)/2+"px"}}]),t}();Vn(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var qn=function(){try{return!!window.localStorage}catch(t){return!1}}(),Kn=void 0,Qn=!0,Jn=void 0,Zn=!1,$n=[],tr=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),On.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=cn.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=cn.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),cn.isUndefined(r.load)?r.load={preset:"Default"}:r.preset&&(r.load.preset=r.preset),cn.isUndefined(r.parent)&&r.hideable&&$n.push(this),r.resizable=cn.isUndefined(r.parent)&&r.resizable,r.autoPlace&&cn.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=qn&&"true"===localStorage.getItem(ar(this,"isLocal")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,dr(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,s&&(s.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?On.addClass(n.__ul,t.CLASS_CLOSED):On.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){qn&&(o=t,t?On.bind(window,"unload",a):On.unbind(window,"unload",a),localStorage.setItem(ar(n,"isLocal"),t))}}}),cn.isUndefined(r.parent)){if(this.closed=r.closed||!1,On.addClass(this.domElement,t.CLASS_MAIN),On.makeSelectable(this.domElement,!1),qn&&o){n.useLocalStorage=!0;var u=localStorage.getItem(ar(this,"gui"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,On.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(On.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(On.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),On.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);On.addClass(l,"controller-name"),s=er(n,l);On.addClass(this.__ul,t.CLASS_CLOSED),On.addClass(s,"title"),On.bind(s,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(cn.isUndefined(r.parent)&&(Qn&&(Jn=document.createElement("div"),On.addClass(Jn,"dg"),On.addClass(Jn,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Jn),Qn=!1),Jn.appendChild(this.domElement),On.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||dr(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},On.bind(window,"resize",this.__resizeHandler),On.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),On.bind(this.__ul,"transitionend",this.__resizeHandler),On.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&cr(this),a=function(){qn&&"true"===localStorage.getItem(ar(n,"isLocal"))&&localStorage.setItem(ar(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((i=n.getRoot()).width+=1,cn.defer((function(){i.width-=1})))};function er(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function nr(t){On.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&On.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function rr(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function ir(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o.Default)return;a=o.Default}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function or(t,e,n,r){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new Fn(e,n);else{var o=[e,n].concat(r.factoryArgs);i=Un.apply(t,o)}r.before instanceof Mn&&(r.before=r.before.__li),ir(t,i),On.addClass(i.domElement,"c");var a=document.createElement("span");On.addClass(a,"property-name"),a.innerHTML=i.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(i.domElement);var u=er(t,s,r.before);return On.addClass(u,tr.CLASS_CONTROLLER_ROW),i instanceof Fn?On.addClass(u,"color"):On.addClass(u,gn(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,cn.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),or(t,n.object,n.property,{before:r,factoryArgs:[cn.toArray(arguments)]})}if(cn.isArray(e)||cn.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),or(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof Bn){var r=new Ln(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});cn.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}})),On.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof Ln){var i=function(e){if(cn.isNumber(n.__min)&&cn.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=or(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=cn.compose(i,n.min),n.max=cn.compose(i,n.max)}else n instanceof kn?(On.bind(e,"click",(function(){On.fakeEvent(n.__checkbox,"click")})),On.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof Gn?(On.bind(e,"click",(function(){On.fakeEvent(n.__button,"click")})),On.bind(e,"mouseover",(function(){On.addClass(n.__button,"hover")})),On.bind(e,"mouseout",(function(){On.removeClass(n.__button,"hover")}))):n instanceof Fn&&(On.addClass(e,"color"),n.updateDisplay=cn.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=cn.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&rr(t.getRoot(),!0),e}),n.setValue)}(t,u,i),t.__controllers.push(i),i}function ar(t,e){return document.location.href+"."+e}function sr(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function ur(t,e){e.style.display=t.useLocalStorage?"block":"none"}function lr(t){var e=t.__save_row=document.createElement("li");On.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),On.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",On.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",On.addClass(r,"button"),On.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",On.addClass(i,"button"),On.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",On.addClass(o,"button"),On.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?cn.each(t.load.remembered,(function(e,n){sr(t,n,n===t.preset)})):sr(t,"Default",!1),On.bind(a,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),qn){var s=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(ar(0,"isLocal"))&&u.setAttribute("checked","checked"),ur(t,s),On.bind(u,"change",(function(){t.useLocalStorage=!t.useLocalStorage,ur(t,s)}))}var l=document.getElementById("dg-new-constructor");On.bind(l,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||Kn.hide()})),On.bind(n,"click",(function(){l.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),Kn.show(),l.focus(),l.select()})),On.bind(r,"click",(function(){t.save()})),On.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),On.bind(o,"click",(function(){t.revert()}))}function cr(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){On.removeClass(t.__closeButton,tr.CLASS_DRAG),On.unbind(window,"mousemove",n),On.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),e=i.clientX,On.addClass(t.__closeButton,tr.CLASS_DRAG),On.bind(window,"mousemove",n),On.bind(window,"mouseup",r),!1}t.__resize_handle=document.createElement("div"),cn.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),On.bind(t.__resize_handle,"mousedown",i),On.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function dr(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function hr(t,e){var n={};return cn.each(t.__rememberedObjects,(function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];cn.each(a,(function(t,n){o[n]=e?t.initialValue:t.getValue()})),n[i]=o})),n}tr.toggleHide=function(){Zn=!Zn,cn.each($n,(function(t){t.domElement.style.display=Zn?"none":""}))},tr.CLASS_AUTO_PLACE="a",tr.CLASS_AUTO_PLACE_CONTAINER="ac",tr.CLASS_MAIN="main",tr.CLASS_CONTROLLER_ROW="cr",tr.CLASS_TOO_TALL="taller-than-window",tr.CLASS_CLOSED="closed",tr.CLASS_CLOSE_BUTTON="close-button",tr.CLASS_CLOSE_TOP="close-top",tr.CLASS_CLOSE_BOTTOM="close-bottom",tr.CLASS_DRAG="drag",tr.DEFAULT_WIDTH=245,tr.TEXT_CLOSED="Close Controls",tr.TEXT_OPEN="Open Controls",tr._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||tr.toggleHide()},On.bind(window,"keydown",tr._keydownHandler,!1),cn.extend(tr.prototype,{add:function(t,e){return or(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return or(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;cn.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Jn.removeChild(this.domElement);var t=this;cn.each(this.__folders,(function(e){t.removeFolder(e)})),On.unbind(window,"keydown",tr._keydownHandler,!1),nr(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new tr(e);this.__folders[t]=n;var r=er(this,n.domElement);return On.addClass(r,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],nr(t);var e=this;cn.each(t.__folders,(function(e){t.removeFolder(e)})),cn.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=On.getOffset(t.__ul).top,n=0;cn.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=On.getHeight(e))})),window.innerHeight-e-20<n?(On.addClass(t.domElement,tr.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(On.removeClass(t.domElement,tr.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&cn.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:cn.debounce((function(){this.onResize()}),50),remember:function(){if(cn.isUndefined(Kn)&&((Kn=new Wn).domElement.innerHTML=Yn),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;cn.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&lr(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&dr(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=hr(this)),t.folders={},cn.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=hr(this),rr(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=hr(this,!0)),this.load.remembered[t]=hr(this),this.preset=t,sr(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){cn.each(this.__controllers,(function(e){this.getRoot().load.remembered?ir(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),cn.each(this.__folders,(function(t){t.revert(t)})),t||rr(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&Xn.call(window,(function(){t(e)}));cn.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){cn.each(this.__controllers,(function(t){t.updateDisplay()})),cn.each(this.__folders,(function(t){t.updateDisplay()}))}});var fr={color:{Color:Sn,math:mn,interpret:pn},controllers:{Controller:Mn,BooleanController:kn,OptionController:Nn,StringController:Dn,NumberController:Pn,NumberControllerBox:Ln,NumberControllerSlider:Bn,FunctionController:Gn,ColorController:Fn},dom:{dom:On},gui:{GUI:tr},GUI:tr};function pr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
	 * GSAP 3.2.4
	 * https://greensock.com
	 *
	 * @license Copyright 2008-2020, GreenSock. All rights reserved.
	 * Subject to the terms at https://greensock.com/standard-license or for
	 * Club GreenSock members, the agreement issued with that membership.
	 * @author: Jack Doyle, jack@greensock.com
	*/var mr,gr,vr,br,yr,Er,wr,Sr,xr,Ar,Mr,Cr,Tr,Ir,Or,kr,Nr,Dr,Rr,Pr,Lr,Hr,Br,Gr,Fr,jr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zr={duration:.5,overwrite:!1,delay:0},Vr=2*Math.PI,Yr=Vr/4,Ur=0,Xr=Math.sqrt,Wr=Math.cos,qr=Math.sin,Kr=function(t){return"string"==typeof t},Qr=function(t){return"function"==typeof t},Jr=function(t){return"number"==typeof t},Zr=function(t){return void 0===t},$r=function(t){return"object"==typeof t},ti=function(t){return!1!==t},ei=function(){return"undefined"!=typeof window},ni=function(t){return Qr(t)||Kr(t)},ri=Array.isArray,ii=/(?:-?\.?\d|\.)+/gi,oi=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,ai=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,si=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,ui=/\(([^()]+)\)/i,li=/[+-]=-?[\.\d]+/,ci=/[#\-+.]*\b[a-z\d-=+%.]+/gi,di={},hi={},fi=function(t){return(hi=Gi(t,di))&&ba},pi=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},_i=function(t,e){return!e&&console.warn(t)},mi=function(t,e){return t&&(di[t]=e)&&hi&&(hi[t]=e)||di},gi=function(){return 0},vi={},bi=[],yi={},Ei={},wi={},Si=30,xi=[],Ai="",Mi=function(t){var e,n,r=t[0];if($r(r)||Qr(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=xi.length;n--&&!xi[n].targetTest(r););e=xi[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Yo(t[n],e)))||t.splice(n,1);return t},Ci=function(t){return t._gsap||Mi(co(t))[0]._gsap},Ti=function(t,e){var n=t[e];return Qr(n)?t[e]():Zr(n)&&t.getAttribute(e)||n},Ii=function(t,e){return(t=t.split(",")).forEach(e)||t},Oi=function(t){return Math.round(1e5*t)/1e5||0},ki=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Ni=function(t,e,n){var r,i=Jr(t[1]),o=(i?2:1)+(e<2?0:1),a=t[o];if(i&&(a.duration=t[1]),a.parent=n,e){for(r=a;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=ti(n.vars.inherit)&&n.parent;a.immediateRender=ti(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return a},Di=function(){var t,e,n=bi.length,r=bi.slice(0);for(yi={},bi.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Ri=function(t,e,n,r){bi.length&&Di(),t.render(e,n,r),bi.length&&Di()},Pi=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(ci).length<2?e:t},Li=function(t){return t},Hi=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Bi=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},Gi=function(t,e){for(var n in e)t[n]=e[n];return t},Fi=function t(e,n){for(var r in n)e[r]=$r(n[r])?t(e[r]||(e[r]={}),n[r]):n[r];return e},ji=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},zi=function(t){var e=t.parent||mr,n=t.keyframes?Bi:Hi;if(ti(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent;return t},Vi=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Yi=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},Ui=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},Xi=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Wi=function(t){return t._repeat?qi(t._tTime,t=t.duration()+t._rDelay)*t:0},qi=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},Ki=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Qi=function(t){return t._end=Oi(t._start+(t._tDur/Math.abs(t._ts||t._pauseTS||1e-8)||0))},Ji=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Ki(t.rawTime(),e),(!e._dur||oo(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Ui(t)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Zi=function(t,e,n,r){return e.parent&&Yi(e),e._start=Oi(n+e._delay),e._end=Oi(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,a=t[r];if(i)for(o=e[i];a&&a[i]>o;)a=a._prev;a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,r||Ji(t,e),t},$i=function(t,e,n,r){return Jo(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Er!==No.frame?(bi.push(t),t._lazy=[e,r],1):void 0:1},to=function(t,e,n){var r=t._repeat,i=Oi(e);return t._dur=i,t._tDur=r?r<0?1e12:Oi(i*(r+1)+t._rDelay*r):i,!n&&Ui(t.parent),t.parent&&Qi(t),t},eo=function(t){return t instanceof Xo?Ui(t):to(t,t._dur)},no={_start:0,endTime:gi},ro=function t(e,n){var r,i,o=e.labels,a=e._recent||no,s=e.duration()>=1e8?a.endTime(!1):e._dur;return Kr(n)&&(isNaN(n)||n in o)?"<"===(r=n.charAt(0))||">"===r?("<"===r?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in o||(o[n]=s),o[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+i:s+i):null==n?s:+n},io=function(t,e){return t||0===t?e(t):e},oo=function(t,e,n){return n<t?t:n>e?e:n},ao=function(t){return(t+"").substr((parseFloat(t)+"").length)},so=[].slice,uo=function(t,e){return t&&$r(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&$r(t[0]))&&!t.nodeType&&t!==gr},lo=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return Kr(t)&&!e||uo(t,1)?(r=n).push.apply(r,co(t)):n.push(t)}))||n},co=function(t,e){return!Kr(t)||e||!vr&&Do()?ri(t)?lo(t,e):uo(t)?so.call(t,0):t?[t]:[]:so.call(br.querySelectorAll(t),0)},ho=function(t){return t.sort((function(){return.5-Math.random()}))},fo=function(t){if(Qr(t))return t;var e=$r(t)?t:{each:t},n=Go(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},a=r>0&&r<1,s=isNaN(r)||a,u=e.axis,l=r,c=r;return Kr(r)?l=c={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(l=r[0],c=r[1]),function(t,a,d){var h,f,p,_,m,g,v,b,y,E=(d||e).length,w=o[E];if(!w){if(!(y="auto"===e.grid?0:(e.grid||[1,1e8])[1])){for(v=-1e8;v<(v=d[y++].getBoundingClientRect().left)&&y<E;);y--}for(w=o[E]=[],h=s?Math.min(y,E)*l-.5:r%y,f=s?E*c/y-.5:r/y|0,v=0,b=1e8,g=0;g<E;g++)p=g%y-h,_=f-(g/y|0),w[g]=m=u?Math.abs("y"===u?_:p):Xr(p*p+_*_),m>v&&(v=m),m<b&&(b=m);"random"===r&&ho(w),w.max=v-b,w.min=b,w.v=E=(parseFloat(e.amount)||parseFloat(e.each)*(y>E?E-1:u?"y"===u?E/y:y:Math.max(y,E/y))||0)*("edges"===r?-1:1),w.b=E<0?i-E:i,w.u=ao(e.amount||e.each)||0,n=n&&E<0?Bo(n):n}return E=(w[t]-w.min)/w.max||0,Oi(w.b+(n?n(E):E)*w.v)+w.u}},po=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){return~~(Math.round(parseFloat(n)/t)*t*e)/e+(Jr(n)?0:ao(n))}},_o=function(t,e){var n,r,i=ri(t);return!i&&$r(t)&&(n=i=t.radius||1e8,t.values?(t=co(t.values),(r=!Jr(t[0]))&&(n*=n)):t=po(t.increment)),io(e,i?Qr(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,a=parseFloat(r?e.x:e),s=parseFloat(r?e.y:0),u=1e8,l=0,c=t.length;c--;)(i=r?(i=t[c].x-a)*i+(o=t[c].y-s)*o:Math.abs(t[c]-a))<u&&(u=i,l=c);return l=!n||u<=n?t[l]:e,r||l===e||Jr(e)?l:l+ao(e)}:po(t))},mo=function(t,e,n,r){return io(ri(t)?!e:!0===n?!!(n=0):!r,(function(){return ri(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/n)*n*r)/r}))},go=function(t,e,n){return io(n,(function(n){return t[~~e(n)]}))},vo=function(t){for(var e,n,r,i,o=0,a="";~(e=t.indexOf("random(",o));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?ci:ii),a+=t.substr(o,e-o)+mo(i?n:+n[0],+n[1],+n[2]||1e-5),o=r+1;return a+t.substr(o,t.length-o)},bo=function(t,e,n,r,i){var o=e-t,a=r-n;return io(i,(function(e){return n+(e-t)/o*a}))},yo=function(t,e,n){var r,i,o,a=t.labels,s=1e8;for(r in a)(i=a[r]-e)<0==!!n&&i&&s>(i=Math.abs(i))&&(o=r,s=i);return o},Eo=function(t,e,n){var r,i,o=t.vars,a=o[e];if(a)return r=o[e+"Params"],i=o.callbackScope||t,n&&bi.length&&Di(),r?a.apply(i,r):a.call(i)},wo=function(t){return Yi(t),t.progress()<1&&Eo(t,"onInterrupt"),t},So=function(t){var e=(t=!t.name&&t.default||t).name,n=Qr(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:gi,render:ca,add:Ko,kill:ha,modifier:da,rawVars:0},o={targetTest:0,get:0,getSetter:aa,aliases:{},register:0};if(Do(),t!==r){if(Ei[e])return;Hi(r,Hi(ji(t,i),o)),Gi(r.prototype,Gi(i,ji(t,o))),Ei[r.prop=e]=r,t.targetTest&&(xi.push(r),vi[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}mi(e,r),t.register&&t.register(ba,r,_a)},xo={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Ao=function(t,e,n){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},Mo=function(t,e,n){var r,i,o,a,s,u,l,c,d,h,f=t?Jr(t)?[t>>16,t>>8&255,255&t]:0:xo.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),xo[t])f=xo[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o),f=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(f=h=t.match(ii),e){if(~t.indexOf("="))return f=t.match(oi),n&&f.length<4&&(f[3]=1),f}else a=+f[0]%360/360,s=+f[1]/100,r=2*(u=+f[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),f.length>3&&(f[3]*=1),f[0]=Ao(a+1/3,r,i),f[1]=Ao(a,r,i),f[2]=Ao(a-1/3,r,i);else f=t.match(ii)||xo.transparent;f=f.map(Number)}return e&&!h&&(r=f[0]/255,i=f[1]/255,o=f[2]/255,u=((l=Math.max(r,i,o))+(c=Math.min(r,i,o)))/2,l===c?a=s=0:(d=l-c,s=u>.5?d/(2-l-c):d/(l+c),a=l===r?(i-o)/d+(i<o?6:0):l===i?(o-r)/d+2:(r-i)/d+4,a*=60),f[0]=~~(a+.5),f[1]=~~(100*s+.5),f[2]=~~(100*u+.5)),n&&f.length<4&&(f[3]=1),f},Co=function(t){var e=[],n=[],r=-1;return t.split(Io).forEach((function(t){var i=t.match(ai)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},To=function(t,e,n){var r,i,o,a,s="",u=(t+s).match(Io),l=e?"hsla(":"rgba(",c=0;if(!u)return t;if(u=u.map((function(t){return(t=Mo(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=Co(t),(r=n.c).join(s)!==o.c.join(s)))for(a=(i=t.replace(Io,"1").split(ai)).length-1;c<a;c++)s+=i[c]+(~r.indexOf(c)?u.shift()||l+"0,0,0,0)":(o.length?o:u.length?u:n).shift());if(!i)for(a=(i=t.split(Io)).length-1;c<a;c++)s+=i[c]+u[c];return s+i[a]},Io=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in xo)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Oo=/hsl[a]?\(/,ko=function(t){var e,n=t.join(" ");if(Io.lastIndex=0,Io.test(n))return e=Oo.test(n),t[1]=To(t[1],e),t[0]=To(t[0],e,Co(t[1])),!0},No=(Tr=Date.now,Ir=500,Or=33,kr=Tr(),Nr=kr,Rr=Dr=1/240,Lr=function t(e){var n,r,i=Tr()-Nr,o=!0===e;i>Ir&&(kr+=i-Or),Nr+=i,Cr.time=(Nr-kr)/1e3,((n=Cr.time-Rr)>0||o)&&(Cr.frame++,Rr+=n+(n>=Dr?.004:Dr-n),r=1),o||(xr=Ar(t)),r&&Pr.forEach((function(t){return t(Cr.time,i,Cr.frame,e)}))},Cr={time:0,frame:0,tick:function(){Lr(!0)},wake:function(){yr&&(!vr&&ei()&&(gr=vr=window,br=gr.document||{},di.gsap=ba,(gr.gsapVersions||(gr.gsapVersions=[])).push(ba.version),fi(hi||gr.GreenSockGlobals||!gr.gsap&&gr||{}),Mr=gr.requestAnimationFrame),xr&&Cr.sleep(),Ar=Mr||function(t){return setTimeout(t,1e3*(Rr-Cr.time)+1|0)},Sr=1,Lr(2))},sleep:function(){(Mr?gr.cancelAnimationFrame:clearTimeout)(xr),Sr=0,Ar=gi},lagSmoothing:function(t,e){Ir=t||1e8,Or=Math.min(e,Ir,0)},fps:function(t){Dr=1/(t||240),Rr=Cr.time+Dr},add:function(t){Pr.indexOf(t)<0&&Pr.push(t),Do()},remove:function(t){var e;~(e=Pr.indexOf(t))&&Pr.splice(e,1)},_listeners:Pr=[]}),Do=function(){return!Sr&&No.wake()},Ro={},Po=/^[\d.\-M][\d.\-,\s]/,Lo=/["']/g,Ho=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,u=o.length;s<u;s++)n=o[s],e=s!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[a]=isNaN(r)?r.replace(Lo,"").trim():+r,a=n.substr(e+1).trim();return i},Bo=function(t){return function(e){return 1-t(1-e)}},Go=function(t,e){return t&&(Qr(t)?t:Ro[t]||function(t){var e=(t+"").split("("),n=Ro[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Ho(e[1])]:ui.exec(t)[1].split(",").map(Pi)):Ro._CE&&Po.test(t)?Ro._CE("",t):n}(t))||e},Fo=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return Ii(t,(function(t){for(var e in Ro[t]=di[t]=o,Ro[i=t.toLowerCase()]=n,o)Ro[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ro[t+"."+e]=o[e]})),o},jo=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},zo=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),a=o/Vr*(Math.asin(1/i)||0),s=function(t){return 1===t?1:i*Math.pow(2,-10*t)*qr((t-a)*o)+1},u="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:jo(s);return o=Vr/o,u.config=function(n,r){return t(e,n,r)},u},Vo=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:jo(r);return i.config=function(n){return t(e,n)},i};Ii("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Fo(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Ro.Linear.easeNone=Ro.none=Ro.Linear.easeIn,Fo("Elastic",zo("in"),zo("out"),zo()),Hr=7.5625,Gr=1/(Br=2.75),Fo("Bounce",(function(t){return 1-Fr(1-t)}),Fr=function(t){return t<Gr?Hr*t*t:t<.7272727272727273?Hr*Math.pow(t-1.5/Br,2)+.75:t<.9090909090909092?Hr*(t-=2.25/Br)*t+.9375:Hr*Math.pow(t-2.625/Br,2)+.984375}),Fo("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Fo("Circ",(function(t){return-(Xr(1-t*t)-1)})),Fo("Sine",(function(t){return 1-Wr(t*Yr)})),Fo("Back",Vo("in"),Vo("out"),Vo()),Ro.SteppedEase=Ro.steps=di.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*oo(0,1-1e-8,t)|0)+i)*n}}},zr.ease=Ro["quad.out"],Ii("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Ai+=t+","+t+"Params,"}));var Yo=function(t,e){this.id=Ur++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Ti,this.set=e?e.getSetter:aa},Uo=function(){function t(t,e){var n=t.parent||mr;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=t.reversed?-1:1,to(this,+t.duration,1),this.data=t.data,Sr||No.wake(),n&&Zi(n,this,e||0===e?e:n._time,1),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?to(this,t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,to(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Do(),!arguments.length)return this._tTime;var n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(this._start=Oi(n._time-(this._ts>0?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts)),Qi(this),n._dirty||Ui(n);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&Zi(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime))&&(this._ts||(this._pTime=t),Ri(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Wi(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Wi(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?qi(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return this._ts||this._pauseTS||0;if(null!==this._pauseTS)return this._pauseTS=t,this;var e=this.parent&&this._ts?Ki(this.parent._time,this):this._tTime;return this._ts=t,Xi(this.totalTime(e,!0))},e.paused=function(t){var e=!this._ts;return arguments.length?(e!==t&&(t?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Do(),this._ts=this._pauseTS||1,this._pauseTS=null,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):e},e.startTime=function(t){return arguments.length?(this.parent&&this.parent._sort&&Zi(this.parent,this,t-this._delay),this):this._start},e.endTime=function(t){return this._start+(ti(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ki(e.rawTime(t),this):this._tTime:this._tTime},e.repeat=function(t){return arguments.length?(this._repeat=t,eo(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,eo(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(ro(this,t),ti(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,ti(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){var e=this._ts||this._pauseTS||0;return arguments.length?(t!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(e)*(t?-1:1),this.totalTime(this._tTime,!0)),this):e<0},e.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},e.isActive=function(t){var e,n=this.parent||this._dp,r=this._start;return!(n&&!(this._ts&&(this._initted||!t)&&n.isActive(t)&&(e=n.rawTime(!0))>=r&&e<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=Qr(t)?t:Li,i=function(){var t=e.then;e.then=null,Qr(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){wo(this)},t}();Hi(Uo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_pauseTS:null});var Xo=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=ti(e.sortChildren),r.parent&&Ji(r.parent,pr(r)),r}_r(e,t);var n=e.prototype;return n.to=function(t,e,n){return new ea(t,Ni(arguments,0,this),ro(this,Jr(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new ea(t,Ni(arguments,1,this),ro(this,Jr(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,r){return new ea(t,Ni(arguments,2,this),ro(this,Jr(e)?arguments[4]:r)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,zi(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ea(t,e,ro(this,n),1),this},n.call=function(t,e,n){return Zi(this,ea.delayedCall(0,t,e),ro(this,n))},n.staggerTo=function(t,e,n,r,i,o,a){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new ea(t,n,ro(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,a){return n.runBackwards=1,zi(n).immediateRender=ti(n.immediateRender),this.staggerTo(t,e,n,r,i,o,a)},n.staggerFromTo=function(t,e,n,r,i,o,a,s){return r.startAt=n,zi(r).immediateRender=ti(r.immediateRender),this.staggerTo(t,e,r,i,o,a,s)},n.render=function(t,e,n){var r,i,o,a,s,u,l,c,d,h,f,p,_=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,v=this!==mr&&t>m-1e-8&&t>=0?m:t<1e-8?0:t,b=this._zTime<0!=t<0&&(this._initted||!g);if(v!==this._tTime||n||b){if(_!==this._time&&g&&(v+=this._time-_,t+=this._time-_),r=v,d=this._start,u=!(c=this._ts),b&&(g||(_=this._zTime),!t&&e||(this._zTime=t)),this._repeat&&(f=this._yoyo,s=g+this._rDelay,((r=Oi(v%s))>g||m===v)&&(r=g),(a=~~(v/s))&&a===v/s&&(r=g,a--),f&&1&a&&(r=g-r,p=1),a!==(h=qi(this._tTime,s))&&!this._lock)){var y=f&&1&h,E=y===(f&&1&a);if(a<h&&(y=!y),_=y?0:g,this._lock=1,this.render(_,e,!g)._lock=0,!e&&this.parent&&Eo(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),_!==this._time||u!==!this._ts)return this;if(E&&(this._lock=2,_=y?g+1e-4:-1e-4,this.render(_,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!u)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Oi(_),Oi(r)))&&(v-=r-(r=l._start)),this._tTime=v,this._time=r,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t),_||!r||e||Eo(this,"onStart"),r>=_&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){l=0,o&&(v+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var w=t<0?t:r;i;){if(o=i._prev,(i._act||w<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){l=0,o&&(v+=this._zTime=w?-1e-8:1e-8);break}}i=o}}if(l&&!e&&(this.pause(),l.render(r>=_?0:-1e-8)._zTime=r>=_?1:-1,this._ts))return this._start=d,Qi(this),this.render(t,e,n);this._onUpdate&&!e&&Eo(this,"onUpdate",!0),(v===m&&m>=this.totalDuration()||!v&&this._ts<0)&&(d!==this._start&&Math.abs(c)===Math.abs(this._ts)||((t||!g)&&(t&&this._ts>0||!v&&this._ts<0)&&Yi(this,1),e||t<0&&!_||(Eo(this,v===m?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},n.add=function(t,e){var n=this;if(Jr(e)||(e=ro(this,e)),!(t instanceof Uo)){if(ri(t))return t.forEach((function(t){return n.add(t,e)})),Ui(this);if(Kr(t))return this.addLabel(t,e);if(!Qr(t))return this;t=ea.delayedCall(0,t)}return this!==t?Zi(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof ea?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return Kr(t)?this.removeLabel(t):Qr(t)?this.killTweensOf(t):(Vi(this,t),t===this._recent&&(this._recent=this._last),Ui(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=Oi(No.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=ro(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=ea.delayedCall(0,e||gi,n);return r.data="isPause",this._hasPause=1,Zi(this,r,ro(this,t))},n.removePause=function(t){var e=this._first;for(t=ro(this,t);e;)e._start===t&&"isPause"===e.data&&Yi(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Wo!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=co(t),o=this._first;o;)o instanceof ea?!ki(o._targets,i)||e&&!o.isActive("started"===e)||r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n=this,r=ro(n,t),i=e,o=i.startAt,a=i.onStart,s=i.onStartParams,u=ea.to(n,Hi(e,{ease:"none",lazy:!1,time:r,duration:e.duration||Math.abs(r-(o&&"time"in o?o.time:n._time))/n.timeScale()||1e-8,onStart:function(){n.pause();var t=e.duration||Math.abs(r-n._time)/n.timeScale();u._dur!==t&&to(u,t).render(u._time,!0,!0),a&&a.apply(u,s||[])}}));return u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Hi({startAt:{time:ro(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),yo(this,ro(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),yo(this,ro(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return Ui(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._time=this._tTime=0,t&&(this.labels={}),Ui(this)},n.totalDuration=function(t){var e,n,r,i,o=0,a=this,s=a._last,u=1e8;if(arguments.length)return a._repeat<0?a:a.timeScale(a.totalDuration()/t);if(a._dirty){for(i=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>u&&a._sort&&s._ts&&!a._lock?(a._lock=1,Zi(a,s,r-s._delay,1)._lock=0):u=r,r<0&&s._ts&&(o-=r,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-1e20),u=0),(n=Qi(s))>o&&s._ts&&(o=n),s=e;to(a,a===mr&&a._time>o?a._time:Math.min(1e8,o),1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(mr._ts&&(Ri(mr,Ki(t,mr)),Er=No.frame),No.frame>=Si){Si+=jr.autoSleep||120;var e=mr._first;if((!e||!e._ts)&&jr.autoSleep&&No._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||No.sleep()}}},e}(Uo);Hi(Xo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Wo,qo=function(t,e,n,r,i,o,a){var s,u,l,c,d,h,f,p,_=new _a(this._pt,t,e,0,1,la,null,i),m=0,g=0;for(_.b=n,_.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=vo(r)),o&&(o(p=[n,r],t,e),n=p[0],r=p[1]),u=n.match(si)||[];s=si.exec(r);)c=s[0],d=r.substring(m,s.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),c!==u[g++]&&(h=parseFloat(u[g-1])||0,_._pt={_next:_._pt,p:d||1===g?d:",",s:h,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-h,m:l&&l<4?Math.round:0},m=si.lastIndex);return _.c=m<r.length?r.substring(m,r.length):"",_.fp=a,(li.test(r)||f)&&(_.e=0),this._pt=_,_},Ko=function(t,e,n,r,i,o,a,s,u){Qr(r)&&(r=r(i||0,t,o));var l,c=t[e],d="get"!==n?n:Qr(c)?u?t[e.indexOf("set")||!Qr(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,h=Qr(c)?u?ia:ra:na;if(Kr(r)&&(~r.indexOf("random(")&&(r=vo(r)),"="===r.charAt(1)&&(r=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(ao(d)||0))),d!==r)return isNaN(d+r)?(!c&&!(e in t)&&pi(e,r),qo.call(this,t,e,d,r,h,s||jr.stringFilter,u)):(l=new _a(this._pt,t,e,+d||0,r-(d||0),"boolean"==typeof c?ua:sa,0,h),u&&(l.fp=u),a&&l.modifier(a,this,t),this._pt=l)},Qo=function(t,e,n,r,i,o){var a,s,u,l;if(Ei[t]&&!1!==(a=new Ei[t]).init(i,a.rawVars?e[t]:function(t,e,n,r,i){if(Qr(t)&&(t=Zo(t,i,e,n,r)),!$r(t)||t.style&&t.nodeType||ri(t))return Kr(t)?Zo(t,i,e,n,r):t;var o,a={};for(o in t)a[o]=Zo(t[o],i,e,n,r);return a}(e[t],r,i,o,n),n,r,o)&&(n._pt=s=new _a(n._pt,i,t,0,1,a.render,a,0,a.priority),n!==wr))for(u=n._ptLookup[n._targets.indexOf(i)],l=a._props.length;l--;)u[a._props[l]]=s;return a},Jo=function t(e,n){var r,i,o,a,s,u,l,c,d,h,f,p,_=e.vars,m=_.ease,g=_.startAt,v=_.immediateRender,b=_.lazy,y=_.onUpdate,E=_.onUpdateParams,w=_.callbackScope,S=_.runBackwards,x=_.yoyoEase,A=_.keyframes,M=_.autoRevert,C=e._dur,T=e._startAt,I=e._targets,O=e.parent,k=O&&"nested"===O.data?O.parent._targets:I,N="auto"===e._overwrite,D=e.timeline;if(!D||A&&m||(m="none"),e._ease=Go(m,zr.ease),e._yEase=x?Bo(Go(!0===x?m:x,zr.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),!D){if(T&&T.render(-1,!0).kill(),g){if(Yi(e._startAt=ea.set(I,Hi({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:ti(b),startAt:null,delay:0,onUpdate:y,onUpdateParams:E,callbackScope:w,stagger:0},g))),v)if(n>0)!M&&(e._startAt=0);else if(C)return}else if(S&&C)if(T)!M&&(e._startAt=0);else if(n&&(v=!1),Yi(e._startAt=ea.set(I,Gi(ji(_,vi),{overwrite:!1,data:"isFromStart",lazy:v&&ti(b),immediateRender:v,stagger:0,parent:O}))),v){if(!n)return}else t(e._startAt,1e-8);for(r=ji(_,vi),e._pt=0,p=(c=I[0]?Ci(I[0]).harness:0)&&_[c.prop],b=C&&ti(b)||b&&!C,i=0;i<I.length;i++){if(l=(s=I[i])._gsap||Mi(I)[i]._gsap,e._ptLookup[i]=h={},yi[l.id]&&Di(),f=k===I?i:k.indexOf(s),c&&!1!==(d=new c).init(s,p||r,e,f,k)&&(e._pt=a=new _a(e._pt,s,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){h[t]=a})),d.priority&&(u=1)),!c||p)for(o in r)Ei[o]&&(d=Qo(o,r,e,f,s,k))?d.priority&&(u=1):h[o]=a=Ko.call(e,s,o,"get",r[o],f,k,0,_.stringFilter);e._op&&e._op[i]&&e.kill(s,e._op[i]),N&&e._pt&&(Wo=e,mr.killTweensOf(s,h,"started"),Wo=0),e._pt&&b&&(yi[l.id]=1)}u&&pa(e),e._onInit&&e._onInit(e)}e._from=!D&&!!_.runBackwards,e._onUpdate=y,e._initted=1},Zo=function(t,e,n,r,i){return Qr(t)?t.call(e,n,r,i):Kr(t)&&~t.indexOf("random(")?vo(t):t},$o=Ai+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",ta=($o+",id,stagger,delay,duration,paused").split(","),ea=function(t){function e(e,n,r,i){var o;"number"==typeof n&&(r.duration=n,n=r,r=null);var a,s,u,l,c,d,h,f,p=(o=t.call(this,i?n:zi(n),r)||this).vars,_=p.duration,m=p.delay,g=p.immediateRender,v=p.stagger,b=p.overwrite,y=p.keyframes,E=p.defaults,w=o.parent,S=(ri(e)?Jr(e[0]):"length"in n)?[e]:co(e);if(o._targets=S.length?Mi(S):_i("GSAP target "+e+" not found. https://greensock.com",!jr.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,y||v||ni(_)||ni(m)){if(n=o.vars,(a=o.timeline=new Xo({data:"nested",defaults:E||{}})).kill(),a.parent=pr(o),y)Hi(a.vars.defaults,{ease:"none"}),y.forEach((function(t){return a.to(S,t,">")}));else{if(l=S.length,h=v?fo(v):gi,$r(v))for(c in v)~$o.indexOf(c)&&(f||(f={}),f[c]=v[c]);for(s=0;s<l;s++){for(c in u={},n)ta.indexOf(c)<0&&(u[c]=n[c]);u.stagger=0,f&&Gi(u,f),n.yoyoEase&&!n.repeat&&(u.yoyoEase=n.yoyoEase),d=S[s],u.duration=+Zo(_,pr(o),s,d,S),u.delay=(+Zo(m,pr(o),s,d,S)||0)-o._delay,!v&&1===l&&u.delay&&(o._delay=m=u.delay,o._start+=m,u.delay=0),a.to(d,u,h(s,d,S))}_=m=0}_||o.duration(_=a.duration())}else o.timeline=0;return!0===b&&(Wo=pr(o),mr.killTweensOf(S),Wo=0),w&&Ji(w,pr(o)),(g||!_&&!y&&o._start===w._time&&ti(g)&&function t(e){return!e||e._ts&&t(e.parent)}(pr(o))&&"nested"!==w.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-m))),o}_r(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,a,s,u,l,c,d,h=this._time,f=this._tDur,p=this._dur,_=t>f-1e-8&&t>=0?f:t<1e-8?0:t;if(p){if(_!==this._tTime||!t||n||this._startAt&&this._zTime<0!=t<0){if(r=_,c=this.timeline,this._repeat){if(a=p+this._rDelay,((r=Oi(_%a))>p||f===_)&&(r=p),(o=~~(_/a))&&o===_/a&&(r=p,o--),(u=this._yoyo&&1&o)&&(d=this._yEase,r=p-r),s=qi(this._tTime,a),r===h&&!n&&this._initted)return this;o!==s&&(!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(a*o,!0).invalidate()._lock=0))}if(!this._initted&&$i(this,r,n,e))return this._tTime=0,this;for(this._tTime=_,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(r/p),this._from&&(this.ratio=l=1-l),h||!r||e||Eo(this,"onStart"),i=this._pt;i;)i.r(l,i.d),i=i._next;c&&c.render(t<0?t:!r&&u?-1e-8:c._dur*l,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),Eo(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!e&&this.parent&&Eo(this,"onRepeat"),_!==this._tDur&&_||this._tTime!==_||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,n),(t||!p)&&(t&&this._ts>0||!_&&this._ts<0)&&Yi(this,1),e||t<0&&!h||_<f&&this.timeScale()>0||(Eo(this,_===f?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(t,e,n,r){var i,o=t._zTime<0?0:1,a=e<0?0:1,s=t._rDelay,u=0;if(s&&t._repeat&&(u=oo(0,t._tDur,e),qi(u,s)!==qi(t._tTime,s)&&(o=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),(t._initted||!$i(t,e,r,n))&&(a!==o||r||1e-8===t._zTime||!e&&t._zTime)){for(t._zTime=e||(n?1e-8:0),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=u,n||Eo(t,"onStart"),i=t._pt;i;)i.r(a,i.d),i=i._next;!a&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,r),t._onUpdate&&(n||Eo(t,"onUpdate")),u&&t._repeat&&!n&&t.parent&&Eo(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(t.ratio&&Yi(t,1),n||(Eo(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return wo(this);if(this.timeline)return this.timeline.killTweensOf(t,e,Wo&&!0!==Wo.vars.overwrite),this;var n,r,i,o,a,s,u,l=this._targets,c=t?co(t):l,d=this._ptLookup,h=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(l,c))return wo(this);for(n=this._op=this._op||[],"all"!==e&&(Kr(e)&&(a={},Ii(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var n,r,i,o,a=t[0]?Ci(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(r in n=Gi({},e),s)if(r in n)for(i=(o=s[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(l,e)),u=l.length;u--;)if(~c.indexOf(l[u]))for(a in r=d[u],"all"===e?(n[u]=e,o=r,i={}):(i=n[u]=n[u]||{},o=e),o)(s=r&&r[a])&&("kill"in s.d&&!0!==s.d.kill(a)||Vi(this,s,"_pt"),delete r[a]),"all"!==i&&(i[a]=1);return this._initted&&!this._pt&&h&&wo(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,Ni(arguments,1))},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,n,r){return new e(t,Ni(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return mr.killTweensOf(t,e,n)},e}(Uo);Hi(ea.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ii("staggerTo,staggerFrom,staggerFromTo",(function(t){ea[t]=function(){var e=new Xo,n=so.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var na=function(t,e,n){return t[e]=n},ra=function(t,e,n){return t[e](n)},ia=function(t,e,n,r){return t[e](r.fp,n)},oa=function(t,e,n){return t.setAttribute(e,n)},aa=function(t,e){return Qr(t[e])?ra:Zr(t[e])&&t.setAttribute?oa:na},sa=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},ua=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},la=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},ca=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},da=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},ha=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Vi(this,r,"_pt"):r.dep||(e=1),r=n;return!e},fa=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},pa=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},_a=function(){function t(t,e,n,r,i,o,a,s,u){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||sa,this.d=a||this,this.set=s||na,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=fa,this.m=t,this.mt=n,this.tween=e},t}();Ii(Ai+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",(function(t){return vi[t]=1})),di.TweenMax=di.TweenLite=ea,di.TimelineLite=di.TimelineMax=Xo,mr=new Xo({sortChildren:!1,defaults:zr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),jr.stringFilter=ko;var ma={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return So(t)}))},timeline:function(t){return new Xo(t)},getTweensOf:function(t,e){return mr.getTweensOf(t,e)},getProperty:function(t,e,n,r){Kr(t)&&(t=co(t)[0]);var i=Ci(t||{}).get,o=n?Li:Pi;return"native"===n&&(n=""),t?e?o((Ei[e]&&Ei[e].get||i)(t,e,n,r)):function(e,n,r){return o((Ei[e]&&Ei[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=co(t)).length>1){var r=t.map((function(t){return ba.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=Ei[e],a=Ci(t),s=o?function(e){var r=new o;wr._pt=0,r.init(t,n?e+n:e,wr,0,[t]),r.render(1,r),wr._pt&&ca(1,wr)}:a.set(t,e);return o?s:function(r){return s(t,e,n?r+n:r,a,1)}},isTweening:function(t){return mr.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Go(t.ease,zr.ease)),Fi(zr,t||{})},config:function(t){return Fi(jr,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!Ei[t]&&!di[t]&&_i(e+" effect requires "+t+" plugin.")})),wi[e]=function(t,e){return n(co(t),Hi(e||{},i))},o&&(Xo.prototype[e]=function(t,n,r){return this.add(wi[e](t,$r(n)?n:(r=n)&&{}),r)})},registerEase:function(t,e){Ro[t]=Go(e)},parseEase:function(t,e){return arguments.length?Go(t,e):Ro},getById:function(t){return mr.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new Xo(t);for(i.smoothChildTiming=ti(t.smoothChildTiming),mr.remove(i),i._dp=0,i._time=i._tTime=mr._time,n=mr._first;n;)r=n._next,!e&&!n._dur&&n instanceof ea&&n.vars.onComplete===n._targets[0]||Zi(i,n,n._start-n._delay),n=r;return Zi(mr,i,0),i},utils:{wrap:function t(e,n,r){var i=n-e;return ri(e)?go(e,t(0,e.length),n):io(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return ri(e)?go(e,t(0,e.length-1),n):io(r,(function(t){return e+((t=(o+(t-e)%o)%o)>i?o-t:t)}))},distribute:fo,random:mo,snap:_o,normalize:function(t,e,n){return bo(t,e,0,1,n)},getUnit:ao,clamp:function(t,e,n){return io(n,(function(n){return oo(t,e,n)}))},splitColor:Mo,toArray:co,mapRange:bo,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||ao(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var a,s,u,l,c,d=Kr(e),h={};if(!0===r&&(i=1)&&(r=null),d)e={p:e},n={p:n};else if(ri(e)&&!ri(n)){for(u=[],l=e.length,c=l-2,s=1;s<l;s++)u.push(t(e[s-1],e[s]));l--,o=function(t){t*=l;var e=Math.min(c,~~t);return u[e](t-e)},r=n}else i||(e=Gi(ri(e)?[]:{},e));if(!u){for(a in n)Ko.call(h,e,a,"get",n[a]);o=function(t){return ca(t,h)||(d?e.p:e)}}}return io(r,o)},shuffle:ho},install:fi,effects:wi,ticker:No,updateRoot:Xo.updateRoot,plugins:Ei,globalTimeline:mr,core:{PropTween:_a,globals:mi,Tween:ea,Timeline:Xo,Animation:Uo,getCache:Ci,_removeLinkedListItem:Vi}};Ii("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return ma[t]=ea[t]})),No.add(Xo.updateRoot),wr=ma.to({},{duration:0});var ga=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},va=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(Kr(n)&&(r={},Ii(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=ga(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},ba=ma.registerPlugin({name:"attr",init:function(t,e,n,r,i){for(var o in e)this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],r,i,0,0,o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},va("roundProps",po),va("modifiers"),va("snap",_o))||ma;ea.version=Xo.version=ba.version="3.2.4",yr=1,ei()&&Do()
/*!
	 * CSSPlugin 3.2.4
	 * https://greensock.com
	 *
	 * Copyright 2008-2020, GreenSock. All rights reserved.
	 * Subject to the terms at https://greensock.com/standard-license or for
	 * Club GreenSock members, the agreement issued with that membership.
	 * @author: Jack Doyle, jack@greensock.com
	*/;var ya,Ea,wa,Sa,xa,Aa,Ma,Ca,Ta={},Ia=180/Math.PI,Oa=Math.PI/180,ka=Math.atan2,Na=/([A-Z])/g,Da=/(?:left|right|width|margin|padding|x)/i,Ra=/[\s,\(]\S/,Pa={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},La=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ha=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ba=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Ga=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Fa=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ja=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},za=function(t,e,n){return t.style[e]=n},Va=function(t,e,n){return t.style.setProperty(e,n)},Ya=function(t,e,n){return t._gsap[e]=n},Ua=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Xa=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Wa=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},qa="transform",Ka=qa+"Origin",Qa=function(t,e){var n=Ea.createElementNS?Ea.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ea.createElement(t);return n.style?n:Ea.createElement(t)},Ja=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Na,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,$a(n)||n,1)||""},Za="O,Moz,ms,Ms,Webkit".split(","),$a=function(t,e,n){var r=(e||xa).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(Za[i]+t in r););return i<0?null:(3===i?"ms":i>=0?Za[i]:"")+t},ts=function(){"undefined"!=typeof window&&(ya=window,Ea=ya.document,wa=Ea.documentElement,xa=Qa("div")||{style:{}},Aa=Qa("div"),qa=$a(qa),Ka=$a(Ka),xa.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ca=!!$a("perspective"),Sa=1)},es=function t(e){var n,r=Qa("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(wa.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),wa.removeChild(r),this.style.cssText=a,n},ns=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},rs=function(t){var e;try{e=t.getBBox()}catch(n){e=es.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===es||(e=es.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+ns(t,["x","cx","x1"])||0,y:+ns(t,["y","cy","y1"])||0,width:0,height:0}},is=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!rs(t))},os=function(t,e){if(e){var n=t.style;e in Ta&&(e=qa),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(Na,"-$1").toLowerCase())):n.removeAttribute(e)}},as=function(t,e,n,r,i,o){var a=new _a(t._pt,e,n,0,1,o?ja:Fa);return t._pt=a,a.b=r,a.e=i,t._props.push(n),a},ss={deg:1,rad:1,turn:1},us=function(t,e,n,r){var i,o,a,s,u=parseFloat(n)||0,l=(n+"").trim().substr((u+"").length)||"px",c=xa.style,d=Da.test(e),h="svg"===t.tagName.toLowerCase(),f=(h?"client":"offset")+(d?"Width":"Height"),p="px"===r;return r===l||!u||ss[r]||ss[l]?u:(s=t.getCTM&&is(t),"%"===r&&(Ta[e]||~e.indexOf("adius"))?Oi(u/(s?t.getBBox()[d?"width":"height"]:t[f])*100):(c[d?"width":"height"]=100+(p?l:r),o=~e.indexOf("adius")||"em"===r&&t.appendChild&&!h?t:t.parentNode,s&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Ea&&o.appendChild||(o=Ea.body),(a=o._gsap)&&"%"===r&&a.width&&d&&a.time===No.time?Oi(u/a.width*100):(o===t&&(c.position="static"),o.appendChild(xa),i=xa[f],o.removeChild(xa),c.position="absolute",d&&"%"===r&&((a=Ci(o)).time=No.time,a.width=o[f]),Oi(p?i*u/100:100/i*u))))},ls=function(t,e,n,r){var i;return Sa||ts(),e in Pa&&"transform"!==e&&~(e=Pa[e]).indexOf(",")&&(e=e.split(",")[0]),Ta[e]&&"transform"!==e?(i=Es(t,r),i="transformOrigin"!==e?i[e]:ws(Ja(t,Ka))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=ps[e]&&ps[e](t,e,n)||Ja(t,e)||Ti(t,e)||("opacity"===e?1:0)),n&&!~(i+"").indexOf(" ")?us(t,e,i,n)+n:i},cs=function(t,e,n,r){if(!n||"none"===n){var i=$a(e,t,1),o=i&&Ja(t,i,1);o&&o!==n&&(e=i,n=o)}var a,s,u,l,c,d,h,f,p,_,m,g,v=new _a(this._pt,t.style,e,0,1,la),b=0,y=0;if(v.b=n,v.e=r,n+="","auto"===(r+="")&&(t.style[e]=r,r=Ja(t,e)||r,t.style[e]=n),ko(a=[n,r]),r=a[1],u=(n=a[0]).match(ai)||[],(r.match(ai)||[]).length){for(;s=ai.exec(r);)h=s[0],p=r.substring(b,s.index),c?c=(c+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(c=1),h!==(d=u[y++]||"")&&(l=parseFloat(d)||0,m=d.substr((l+"").length),(g="="===h.charAt(1)?+(h.charAt(0)+"1"):0)&&(h=h.substr(2)),f=parseFloat(h),_=h.substr((f+"").length),b=ai.lastIndex-_.length,_||(_=_||jr.units[e]||m,b===r.length&&(r+=_,v.e+=_)),m!==_&&(l=us(t,e,d,_)||0),v._pt={_next:v._pt,p:p||1===y?p:",",s:l,c:g?g*f:f-l,m:c&&c<4?Math.round:0});v.c=b<r.length?r.substring(b,r.length):""}else v.r="display"===e&&"none"===r?ja:Fa;return li.test(r)&&(v.e=0),this._pt=v,v},ds={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hs=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(t=n,n=r,r=t),e[0]=ds[n]||n,e[1]=ds[r]||r,e.join(" ")},fs=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,a=o.style,s=e.u,u=o._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],Ta[n]&&(r=1,n="transformOrigin"===n?Ka:qa),os(o,n);r&&(os(o,qa),u&&(u.svg&&o.removeAttribute("transform"),Es(o,1),u.uncache=1))}},ps={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var o=t._pt=new _a(t._pt,e,n,0,0,fs);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},_s=[1,0,0,1,0,0],ms={},gs=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},vs=function(t){var e=Ja(t,qa);return gs(e)?_s:e.substr(7).match(oi).map(Oi)},bs=function(t,e){var n,r,i,o,a=t._gsap||Ci(t),s=t.style,u=vs(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?_s:u:(u!==_s||t.offsetParent||t===wa||a.svg||(i=s.display,s.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,r=t.nextSibling,wa.appendChild(t)),u=vs(t),i?s.display=i:os(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):wa.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},ys=function(t,e,n,r,i,o){var a,s,u,l=t._gsap,c=i||bs(t,!0),d=l.xOrigin||0,h=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,_=c[0],m=c[1],g=c[2],v=c[3],b=c[4],y=c[5],E=e.split(" "),w=parseFloat(E[0])||0,S=parseFloat(E[1])||0;n?c!==_s&&(s=_*v-m*g)&&(u=w*(-m/s)+S*(_/s)-(_*y-m*b)/s,w=w*(v/s)+S*(-g/s)+(g*y-v*b)/s,S=u):(w=(a=rs(t)).x+(~E[0].indexOf("%")?w/100*a.width:w),S=a.y+(~(E[1]||E[0]).indexOf("%")?S/100*a.height:S)),r||!1!==r&&l.smooth?(b=w-d,y=S-h,l.xOffset=f+(b*_+y*g)-b,l.yOffset=p+(b*m+y*v)-y):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=S,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!n,t.style[Ka]="0px 0px",o&&(as(o,l,"xOrigin",d,w),as(o,l,"yOrigin",h,S),as(o,l,"xOffset",f,l.xOffset),as(o,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",w+" "+S)},Es=function(t,e){var n=t._gsap||new Yo(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,o,a,s,u,l,c,d,h,f,p,_,m,g,v,b,y,E,w,S,x,A,M,C,T,I,O,k,N,D,R,P=t.style,L=n.scaleX<0,H=Ja(t,Ka)||"0";return r=i=o=u=l=c=d=h=f=0,a=s=1,n.svg=!(!t.getCTM||!is(t)),m=bs(t,n.svg),n.svg&&(M=!n.uncache&&t.getAttribute("data-svg-origin"),ys(t,M||H,!!M||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,_=n.yOrigin||0,m!==_s&&(y=m[0],E=m[1],w=m[2],S=m[3],r=x=m[4],i=A=m[5],6===m.length?(a=Math.sqrt(y*y+E*E),s=Math.sqrt(S*S+w*w),u=y||E?ka(E,y)*Ia:0,(d=w||S?ka(w,S)*Ia+u:0)&&(s*=Math.cos(d*Oa)),n.svg&&(r-=p-(p*y+_*w),i-=_-(p*E+_*S))):(R=m[6],N=m[7],I=m[8],O=m[9],k=m[10],D=m[11],r=m[12],i=m[13],o=m[14],l=(g=ka(R,k))*Ia,g&&(M=x*(v=Math.cos(-g))+I*(b=Math.sin(-g)),C=A*v+O*b,T=R*v+k*b,I=x*-b+I*v,O=A*-b+O*v,k=R*-b+k*v,D=N*-b+D*v,x=M,A=C,R=T),c=(g=ka(-w,k))*Ia,g&&(v=Math.cos(-g),D=S*(b=Math.sin(-g))+D*v,y=M=y*v-I*b,E=C=E*v-O*b,w=T=w*v-k*b),u=(g=ka(E,y))*Ia,g&&(M=y*(v=Math.cos(g))+E*(b=Math.sin(g)),C=x*v+A*b,E=E*v-y*b,A=A*v-x*b,y=M,x=C),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,c=180-c),a=Oi(Math.sqrt(y*y+E*E+w*w)),s=Oi(Math.sqrt(A*A+R*R)),g=ka(x,A),d=Math.abs(g)>2e-4?g*Ia:0,f=D?1/(D<0?-D:D):0),n.svg&&(m=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!gs(Ja(t,qa)),m&&t.setAttribute("transform",m))),Math.abs(d)>90&&Math.abs(d)<270&&(L?(a*=-1,d+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=i&&Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",n.z=o+"px",n.scaleX=Oi(a),n.scaleY=Oi(s),n.rotation=Oi(u)+"deg",n.rotationX=Oi(l)+"deg",n.rotationY=Oi(c)+"deg",n.skewX=d+"deg",n.skewY=h+"deg",n.transformPerspective=f+"px",(n.zOrigin=parseFloat(H.split(" ")[2])||0)&&(P[Ka]=ws(H)),n.xOffset=n.yOffset=0,n.force3D=jr.force3D,n.renderTransform=n.svg?Ms:Ca?As:xs,n.uncache=0,n},ws=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ss=function(t,e,n){var r=ao(e);return Oi(parseFloat(e)+parseFloat(us(t,"x",n+"px",r)))+r},xs=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,As(t,e)},As=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,a=n.y,s=n.z,u=n.rotation,l=n.rotationY,c=n.rotationX,d=n.skewX,h=n.skewY,f=n.scaleX,p=n.scaleY,_=n.transformPerspective,m=n.force3D,g=n.target,v=n.zOrigin,b="",y="auto"===m&&t&&1!==t||!0===m;if(v&&("0deg"!==c||"0deg"!==l)){var E,w=parseFloat(l)*Oa,S=Math.sin(w),x=Math.cos(w);w=parseFloat(c)*Oa,E=Math.cos(w),o=Ss(g,o,S*E*-v),a=Ss(g,a,-Math.sin(w)*-v),s=Ss(g,s,x*E*-v+v)}"0px"!==_&&(b+="perspective("+_+") "),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(y||"0px"!==o||"0px"!==a||"0px"!==s)&&(b+="0px"!==s||y?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+") "),"0deg"!==u&&(b+="rotate("+u+") "),"0deg"!==l&&(b+="rotateY("+l+") "),"0deg"!==c&&(b+="rotateX("+c+") "),"0deg"===d&&"0deg"===h||(b+="skew("+d+", "+h+") "),1===f&&1===p||(b+="scale("+f+", "+p+") "),g.style[qa]=b||"translate(0, 0)"},Ms=function(t,e){var n,r,i,o,a,s=e||this,u=s.xPercent,l=s.yPercent,c=s.x,d=s.y,h=s.rotation,f=s.skewX,p=s.skewY,_=s.scaleX,m=s.scaleY,g=s.target,v=s.xOrigin,b=s.yOrigin,y=s.xOffset,E=s.yOffset,w=s.forceCSS,S=parseFloat(c),x=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=Oa,f*=Oa,n=Math.cos(h)*_,r=Math.sin(h)*_,i=Math.sin(h-f)*-m,o=Math.cos(h-f)*m,f&&(p*=Oa,a=Math.tan(f-p),i*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),n*=a=Math.sqrt(1+a*a),r*=a)),n=Oi(n),r=Oi(r),i=Oi(i),o=Oi(o)):(n=_,o=m,r=i=0),(S&&!~(c+"").indexOf("px")||x&&!~(d+"").indexOf("px"))&&(S=us(g,"x",c,"px"),x=us(g,"y",d,"px")),(v||b||y||E)&&(S=Oi(S+v-(v*n+b*i)+y),x=Oi(x+b-(v*r+b*o)+E)),(u||l)&&(a=g.getBBox(),S=Oi(S+u/100*a.width),x=Oi(x+l/100*a.height)),a="matrix("+n+","+r+","+i+","+o+","+S+","+x+")",g.setAttribute("transform",a),w&&(g.style[qa]=a)},Cs=function(t,e,n,r,i,o){var a,s,u=Kr(i),l=parseFloat(i)*(u&&~i.indexOf("rad")?Ia:1),c=o?l*o:l-r,d=r+c+"deg";return u&&("short"===(a=i.split("_")[1])&&(c%=360)!==c%180&&(c+=c<0?360:-360),"cw"===a&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===a&&c>0&&(c=(c-36e9)%360-360*~~(c/360))),t._pt=s=new _a(t._pt,e,n,r,c,Ha),s.e=d,s.u="deg",t._props.push(n),s},Ts=function(t,e,n){var r,i,o,a,s,u,l,c=Aa.style,d=n._gsap;for(i in c.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",c[qa]=e,Ea.body.appendChild(Aa),r=Es(Aa,1),Ta)(o=d[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=ao(o)!==(l=ao(a))?us(n,i,o,l):parseFloat(o),u=parseFloat(a),t._pt=new _a(t._pt,d,i,s,u-s,La),t._pt.u=l||0,t._props.push(i));Ea.body.removeChild(Aa)};Ii("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",o="Left",a=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return e<2?t+n:"border"+n+t}));ps[e>1?"border"+t:t]=function(t,e,n,r,i){var o,s;if(arguments.length<4)return o=a.map((function(e){return ls(t,e,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach((function(t,e){return s[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,s,i)}}));var Is,Os,ks={name:"css",register:ts,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,a,s,u,l,c,d,h,f,p,_,m,g,v,b,y=this._props,E=t.style;for(d in Sa||ts(),e)if("autoRound"!==d&&(a=e[d],!Ei[d]||!Qo(d,e,n,r,t,i)))if(l=typeof a,c=ps[d],"function"===l&&(l=typeof(a=a.call(n,r,t,i))),"string"===l&&~a.indexOf("random(")&&(a=vo(a)),c)c(this,t,d,a,n)&&(b=1);else if("--"===d.substr(0,2))this.add(E,"setProperty",getComputedStyle(t).getPropertyValue(d)+"",a+"",r,i,0,0,d);else{if(o=ls(t,d),u=parseFloat(o),(p="string"===l&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),s=parseFloat(a),d in Pa&&("autoAlpha"===d&&(1===u&&"hidden"===ls(t,"visibility")&&s&&(u=0),as(this,E,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=Pa[d]).indexOf(",")&&(d=d.split(",")[0])),_=d in Ta)if(m||((g=t._gsap).renderTransform||Es(t),v=!1!==e.smoothOrigin&&g.smooth,(m=this._pt=new _a(this._pt,E,qa,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===d)this._pt=new _a(this._pt,g,"scaleY",g.scaleY,p?p*s:s-g.scaleY),y.push("scaleY",d),d+="X";else{if("transformOrigin"===d){a=hs(a),g.svg?ys(t,a,0,v,0,this):((f=parseFloat(a.split(" ")[2])||0)!==g.zOrigin&&as(this,g,"zOrigin",g.zOrigin,f),as(this,E,d,ws(o),ws(a)));continue}if("svgOrigin"===d){ys(t,a,1,v,0,this);continue}if(d in ms){Cs(this,g,d,u,a,p);continue}if("smoothOrigin"===d){as(this,g,"smooth",g.smooth,a);continue}if("force3D"===d){g[d]=a;continue}if("transform"===d){Ts(this,a,t);continue}}else d in E||(d=$a(d)||d);if(_||(s||0===s)&&(u||0===u)&&!Ra.test(a)&&d in E)s||(s=0),(h=(o+"").substr((u+"").length))!==(f=(a+"").substr((s+"").length)||(d in jr.units?jr.units[d]:h))&&(u=us(t,d,o,f)),this._pt=new _a(this._pt,_?g:E,d,u,p?p*s:s-u,"px"!==f||!1===e.autoRound||_?La:Ga),this._pt.u=f||0,h!==f&&(this._pt.b=o,this._pt.r=Ba);else if(d in E)cs.call(this,t,d,o,a);else{if(!(d in t)){pi(d,a);continue}this.add(t,d,t[d],a,r,i)}y.push(d)}b&&pa(this)},get:ls,aliases:Pa,getSetter:function(t,e,n){var r=Pa[e];return r&&r.indexOf(",")<0&&(e=r),e in Ta&&e!==Ka&&(t._gsap.x||ls(t,"x"))?n&&Ma===n?"scale"===e?Ua:Ya:(Ma=n||{})&&("scale"===e?Xa:Wa):t.style&&!Zr(t.style[e])?za:~e.indexOf("-")?Va:aa(t,e)},core:{_removeProperty:os,_getMatrix:bs}};ba.utils.checkPrefix=$a,Os=Ii("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Is="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Ta[t]=1})),Ii(Is,(function(t){jr.units[t]="deg",ms[t]=1})),Pa[Os[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Is,Ii("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Pa[e[1]]=Os[e[0]]})),Ii("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){jr.units[t]="px"})),ba.registerPlugin(ks);var Ns=ba.registerPlugin(ks)||ba,Ds=(Ns.core.Tween,e((function(e){!function(t){function n(){if(n.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(n.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=["entry","increment","decrement"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(t){return this._nrpnEventsEnabled=t,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var r=new n;function i(t){var e=this;this._userHandlers={channel:{},system:{}},this._midiInput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return e._midiInput.connection}},id:{enumerable:!0,get:function(){return e._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return e._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return e._midiInput.name}},state:{enumerable:!0,get:function(){return e._midiInput.state}},type:{enumerable:!0,get:function(){return e._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function o(t){var e=this;this._midiOutput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return e._midiOutput.connection}},id:{enumerable:!0,get:function(){return e._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return e._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return e._midiOutput.name}},state:{enumerable:!0,get:function(){return e._midiOutput.state}},type:{enumerable:!0,get:function(){return e._midiOutput.type}}})}n.prototype.enable=function(t,e){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:e}).then(function(e){var n,r=[],i=[];this.interface=e,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(t){r.push(t)};for(var o=e.inputs.values(),a=o.next();a&&!a.done;a=o.next())i.push(a.value.open());for(var s=e.outputs.values(),u=s.next();u&&!u.done;u=s.next())i.push(u.value.open());function l(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof t&&t.call(this),r.forEach(function(t){this._onInterfaceStateChange(t)}.bind(this))}n=setTimeout(l.bind(this),200),Promise&&Promise.all(i).catch((function(t){})).then(l.bind(this))}.bind(this),function(e){"function"==typeof t&&t.call(this,e)}.bind(this)):"function"==typeof t&&t(new Error("The Web MIDI API is not supported by your browser.")))},n.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},n.prototype.addListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(t)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[t].push(e),this},n.prototype.hasListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(t)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[t].length;n++)if(this._userHandlers[t][n]===e)return!0;return!1},n.prototype.removeListener=function(t,e){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==e&&"function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(t))if(e)for(var n=0;n<this._userHandlers[t].length;n++)this._userHandlers[t][n]===e&&this._userHandlers[t].splice(n,1);else this._userHandlers[t]=[];else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},n.prototype.toMIDIChannels=function(t){var e;if("all"===t||void 0===t)e=["all"];else{if("none"===t)return[];e=Array.isArray(t)?t:[t]}return-1<e.indexOf("all")&&(e=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),e.map((function(t){return parseInt(t)})).filter((function(t){return 1<=t&&t<=16}))},n.prototype.getInputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");t=String(t);for(var e=0;e<this.inputs.length;e++)if(this.inputs[e].id===t)return this.inputs[e];return!1},n.prototype.getOutputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");t=String(t);for(var e=0;e<this.outputs.length;e++)if(this.outputs[e].id===t)return this.outputs[e];return!1},n.prototype.getInputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var e=0;e<this.inputs.length;e++)if(~this.inputs[e].name.indexOf(t))return this.inputs[e];return!1},n.prototype.getOctave=function(t){if(null!=t&&0<=t&&t<=127)return Math.floor(Math.floor(t)/12-1)+Math.floor(r.octaveOffset)},n.prototype.getOutputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var e=0;e<this.outputs.length;e++)if(~this.outputs[e].name.indexOf(t))return this.outputs[e];return!1},n.prototype.guessNoteNumber=function(t){var e=!1;if(t&&t.toFixed&&0<=t&&t<=127?e=Math.round(t):0<=parseInt(t)&&parseInt(t)<=127?e=parseInt(t):("string"==typeof t||t instanceof String)&&(e=this.noteNameToNumber(t)),!1===e)throw new Error("Invalid input value ("+t+").");return e},n.prototype.noteNameToNumber=function(t){"string"!=typeof t&&(t="");var e=t.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!e)throw new RangeError("Invalid note name.");var n=r._semitones[e[1].toUpperCase()],i=12*(parseInt(e[3])+1-Math.floor(r.octaveOffset))+n;if(-1<e[2].toLowerCase().indexOf("b")?i-=e[2].length:-1<e[2].toLowerCase().indexOf("#")&&(i+=e[2].length),i<0||127<i)throw new RangeError("Invalid note name or note outside valid range.");return i},n.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},n.prototype._updateInputs=function(){for(var t=0;t<this._inputs.length;t++){for(var e=!0,n=this.interface.inputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._inputs[t]._midiInput===r.value){e=!1;break}e&&this._inputs.splice(t,1)}this.interface&&this.interface.inputs.forEach(function(t){for(var e=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===t&&(e=!1);e&&this._inputs.push(new i(t))}.bind(this))},n.prototype._updateOutputs=function(){for(var t=0;t<this._outputs.length;t++){for(var e=!0,n=this.interface.outputs.values(),r=n.next();r&&!r.done;r=n.next())if(this._outputs[t]._midiOutput===r.value){e=!1;break}e&&this._outputs.splice(t,1)}this.interface&&this.interface.outputs.forEach(function(t){for(var e=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===t&&(e=!1);e&&this._outputs.push(new o(t))}.bind(this))},n.prototype._onInterfaceStateChange=function(t){this._updateInputsAndOutputs();var e={timestamp:t.timeStamp,type:t.port.state};this.interface&&"connected"===t.port.state?"output"===t.port.type?e.port=this.getOutputById(t.port.id):"input"===t.port.type&&(e.port=this.getInputById(t.port.id)):e.port={connection:"closed",id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this._userHandlers[t.port.state].forEach((function(t){t(e)}))},n.prototype._resetInterfaceUserHandlers=function(){for(var t=0;t<this._midiInterfaceEvents.length;t++)this._userHandlers[this._midiInterfaceEvents[t]]=[]},i.prototype.on=i.prototype.addListener=function(t,e,n){var i=this;if(void 0===e&&(e="all"),Array.isArray(e)||(e=[e]),e.forEach((function(t){if("all"!==t&&!(1<=t&&t<=16))throw new RangeError("The 'channel' parameter is invalid.")})),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==r.MIDI_SYSTEM_MESSAGES[t])this._userHandlers.system[t]||(this._userHandlers.system[t]=[]),this._userHandlers.system[t].push(n);else{if(void 0===r.MIDI_CHANNEL_MESSAGES[t])throw new TypeError("The specified event type is not supported.");if(-1<e.indexOf("all")){e=[];for(var o=1;o<=16;o++)e.push(o)}this._userHandlers.channel[t]||(this._userHandlers.channel[t]=[]),e.forEach((function(e){i._userHandlers.channel[t][e]||(i._userHandlers.channel[t][e]=[]),i._userHandlers.channel[t][e].push(n)}))}return this},i.prototype.hasListener=function(t,e,n){var i=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===e&&(e="all"),e.constructor!==Array&&(e=[e]),void 0!==r.MIDI_SYSTEM_MESSAGES[t]){for(var o=0;o<this._userHandlers.system[t].length;o++)if(this._userHandlers.system[t][o]===n)return!0}else if(void 0!==r.MIDI_CHANNEL_MESSAGES[t]){if(-1<e.indexOf("all")){e=[];for(var a=1;a<=16;a++)e.push(a)}return!!this._userHandlers.channel[t]&&e.every((function(e){var r=i._userHandlers.channel[t][e];return r&&-1<r.indexOf(n)}))}return!1},i.prototype.removeListener=function(t,e,n){var i=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===e&&(e="all"),e.constructor!==Array&&(e=[e]),void 0!==r.MIDI_SYSTEM_MESSAGES[t])if(void 0===n)this._userHandlers.system[t]=[];else for(var o=0;o<this._userHandlers.system[t].length;o++)this._userHandlers.system[t][o]===n&&this._userHandlers.system[t].splice(o,1);else if(void 0!==r.MIDI_CHANNEL_MESSAGES[t]){if(-1<e.indexOf("all")){e=[];for(var a=1;a<=16;a++)e.push(a)}if(!this._userHandlers.channel[t])return this;e.forEach((function(e){var r=i._userHandlers.channel[t][e];if(r)if(void 0===n)i._userHandlers.channel[t][e]=[];else for(var o=0;o<r.length;o++)r[o]===n&&r.splice(o,1)}))}else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},i.prototype._initializeUserHandlers=function(){for(var t in r.MIDI_CHANNEL_MESSAGES)r.MIDI_CHANNEL_MESSAGES.hasOwnProperty(t)&&(this._userHandlers.channel[t]={});for(var e in r.MIDI_SYSTEM_MESSAGES)r.MIDI_SYSTEM_MESSAGES.hasOwnProperty(e)&&(this._userHandlers.system[e]=[])},i.prototype._onMidiMessage=function(t){if(0<this._userHandlers.system.midimessage.length){var e={target:this,data:t.data,timestamp:t.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach((function(t){t(e)}))}t.data[0]<240?(this._parseChannelEvent(t),this._parseNrpnEvent(t)):t.data[0]<=255&&this._parseSystemEvent(t)},i.prototype._parseNrpnEvent=function(t){var e,n,i=t.data[0]>>4,o=15&t.data[0],a=1+o;if(1<t.data.length&&(e=t.data[1],n=2<t.data.length?t.data[2]:void 0),r.nrpnEventsEnabled&&i===r.MIDI_CHANNEL_MESSAGES.controlchange&&(e>=r.MIDI_NRPN_MESSAGES.increment&&e<=r.MIDI_NRPN_MESSAGES.parammsb||e===r.MIDI_NRPN_MESSAGES.entrymsb||e===r.MIDI_NRPN_MESSAGES.entrylsb)){var s={target:this,type:"controlchange",data:t.data,timestamp:t.timeStamp,channel:a,controller:{number:e,name:this.getCcNameByNumber(e)},value:n};if(s.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&s.value!=r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[o]=[],r._nrpnBuffer[o][0]=s;else if(1===r._nrpnBuffer[o].length&&s.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb)r._nrpnBuffer[o].push(s);else if(2!==r._nrpnBuffer[o].length||s.controller.number!==r.MIDI_NRPN_MESSAGES.increment&&s.controller.number!==r.MIDI_NRPN_MESSAGES.decrement&&s.controller.number!==r.MIDI_NRPN_MESSAGES.entrymsb)if(3===r._nrpnBuffer[o].length&&r._nrpnBuffer[o][2].number===r.MIDI_NRPN_MESSAGES.entrymsb&&s.controller.number===r.MIDI_NRPN_MESSAGES.entrylsb)r._nrpnBuffer[o].push(s);else if(3<=r._nrpnBuffer[o].length&&r._nrpnBuffer[o].length<=4&&s.controller.number===r.MIDI_NRPN_MESSAGES.parammsb&&s.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter)r._nrpnBuffer[o].push(s);else if(4<=r._nrpnBuffer[o].length&&r._nrpnBuffer[o].length<=5&&s.controller.number===r.MIDI_NRPN_MESSAGES.paramlsb&&s.value===r.MIDI_NRPN_MESSAGES.nullactiveparameter){r._nrpnBuffer[o].push(s);var u=[];r._nrpnBuffer[o].forEach((function(t){u.push(t.data)}));var l=r._nrpnBuffer[o][0].value<<7|r._nrpnBuffer[o][1].value,c=r._nrpnBuffer[o][2].value;6===r._nrpnBuffer[o].length&&(c=r._nrpnBuffer[o][2].value<<7|r._nrpnBuffer[o][3].value);var d="";switch(r._nrpnBuffer[o][2].controller.number){case r.MIDI_NRPN_MESSAGES.entrymsb:d=r._nrpnTypes[0];break;case r.MIDI_NRPN_MESSAGES.increment:d=r._nrpnTypes[1];break;case r.MIDI_NRPN_MESSAGES.decrement:d=r._nrpnTypes[2];break;default:throw new Error("The NPRN type was unidentifiable.")}var h={timestamp:s.timestamp,channel:s.channel,type:"nrpn",data:u,controller:{number:l,type:d,name:"Non-Registered Parameter "+l},value:c};r._nrpnBuffer[o]=[],this._userHandlers.channel[h.type]&&this._userHandlers.channel[h.type][h.channel]&&this._userHandlers.channel[h.type][h.channel].forEach((function(t){t(h)}))}else r._nrpnBuffer[o]=[];else r._nrpnBuffer[o].push(s)}},i.prototype._parseChannelEvent=function(t){var e,n,i=t.data[0]>>4,o=1+(15&t.data[0]);1<t.data.length&&(e=t.data[1],n=2<t.data.length?t.data[2]:void 0);var a={target:this,data:t.data,timestamp:t.timeStamp,channel:o};i===r.MIDI_CHANNEL_MESSAGES.noteoff||i===r.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(a.type="noteoff",a.note={number:e,name:r._notes[e%12],octave:r.getOctave(e)},a.velocity=n/127,a.rawVelocity=n):i===r.MIDI_CHANNEL_MESSAGES.noteon?(a.type="noteon",a.note={number:e,name:r._notes[e%12],octave:r.getOctave(e)},a.velocity=n/127,a.rawVelocity=n):i===r.MIDI_CHANNEL_MESSAGES.keyaftertouch?(a.type="keyaftertouch",a.note={number:e,name:r._notes[e%12],octave:r.getOctave(e)},a.value=n/127):i===r.MIDI_CHANNEL_MESSAGES.controlchange&&0<=e&&e<=119?(a.type="controlchange",a.controller={number:e,name:this.getCcNameByNumber(e)},a.value=n):i===r.MIDI_CHANNEL_MESSAGES.channelmode&&120<=e&&e<=127?(a.type="channelmode",a.controller={number:e,name:this.getChannelModeByNumber(e)},a.value=n):i===r.MIDI_CHANNEL_MESSAGES.programchange?(a.type="programchange",a.value=e):i===r.MIDI_CHANNEL_MESSAGES.channelaftertouch?(a.type="channelaftertouch",a.value=e/127):i===r.MIDI_CHANNEL_MESSAGES.pitchbend?(a.type="pitchbend",a.value=((n<<7)+e-8192)/8192):a.type="unknownchannelmessage",this._userHandlers.channel[a.type]&&this._userHandlers.channel[a.type][o]&&this._userHandlers.channel[a.type][o].forEach((function(t){t(a)}))},i.prototype.getCcNameByNumber=function(t){if(!(0<=(t=Math.floor(t))&&t<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var e in r.MIDI_CONTROL_CHANGE_MESSAGES)if(r.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(e)&&t===r.MIDI_CONTROL_CHANGE_MESSAGES[e])return e},i.prototype.getChannelModeByNumber=function(t){if(!(120<=(t=Math.floor(t))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var e in r.MIDI_CHANNEL_MODE_MESSAGES)if(r.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(e)&&t===r.MIDI_CHANNEL_MODE_MESSAGES[e])return e},i.prototype._parseSystemEvent=function(t){var e=t.data[0],n={target:this,data:t.data,timestamp:t.timeStamp};e===r.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":e===r.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":e===r.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":e===r.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=t.data[1]):e===r.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":e===r.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":e===r.MIDI_SYSTEM_MESSAGES.start?n.type="start":e===r.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":e===r.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":e===r.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":e===r.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach((function(t){t(n)}))},o.prototype.send=function(t,e,n){if(!(128<=t&&t<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===e&&(e=[]),Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(t){var e=Math.floor(t);if(!(0<=e&&e<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(e)})),this._midiOutput.send([t].concat(r),parseFloat(n)||0),this},o.prototype.sendSysex=function(t,e,n){if(!r.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},t=[].concat(t),e.forEach((function(t){if(t<0||127<t)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")})),e=t.concat(e,r.MIDI_SYSTEM_MESSAGES.sysexend),this.send(r.MIDI_SYSTEM_MESSAGES.sysex,e,this._parseTimeParameter(n.time)),this},o.prototype.sendTimecodeQuarterFrame=function(t,e){return e=e||{},this.send(r.MIDI_SYSTEM_MESSAGES.timecode,t,this._parseTimeParameter(e.time)),this},o.prototype.sendSongPosition=function(t,e){e=e||{};var n=(t=Math.floor(t)||0)>>7&127,i=127&t;return this.send(r.MIDI_SYSTEM_MESSAGES.songposition,[n,i],this._parseTimeParameter(e.time)),this},o.prototype.sendSongSelect=function(t,e){if(e=e||{},!(0<=(t=Math.floor(t))&&t<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(r.MIDI_SYSTEM_MESSAGES.songselect,[t],this._parseTimeParameter(e.time)),this},o.prototype.sendTuningRequest=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(t.time)),this},o.prototype.sendClock=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(t.time)),this},o.prototype.sendStart=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(t.time)),this},o.prototype.sendContinue=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(t.time)),this},o.prototype.sendStop=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(t.time)),this},o.prototype.sendActiveSensing=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(t.time)),this},o.prototype.sendReset=function(t){return t=t||{},this.send(r.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(t.time)),this},o.prototype.stopNote=function(t,e,n){if("all"===t)return this.sendChannelMode("allnotesoff",0,e,n);var i=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(i=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(i=127*n.velocity),this._convertNoteToArray(t).forEach(function(t){r.toMIDIChannels(e).forEach(function(e){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(e-1),[t,Math.round(i)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},o.prototype.playNote=function(t,e,n){var i,o=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(o=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(o=127*n.velocity),i=this._parseTimeParameter(n.time),this._convertNoteToArray(t).forEach(function(t){r.toMIDIChannels(e).forEach(function(e){this.send((r.MIDI_CHANNEL_MESSAGES.noteon<<4)+(e-1),[t,Math.round(o)],i)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var a=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(a=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(a=127*n.release),this._convertNoteToArray(t).forEach(function(t){r.toMIDIChannels(e).forEach(function(e){this.send((r.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(e-1),[t,Math.round(a)],(i||r.time)+n.duration)}.bind(this))}.bind(this))}return this},o.prototype.sendKeyAftertouch=function(t,e,n,i){var o=this;if(i=i||{},e<1||16<e)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var a=Math.round(127*n);return this._convertNoteToArray(t).forEach((function(t){r.toMIDIChannels(e).forEach((function(e){o.send((r.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(e-1),[t,a],o._parseTimeParameter(i.time))}))})),this},o.prototype.sendControlChange=function(t,e,n,i){if(i=i||{},"string"==typeof t){if(void 0===(t=r.MIDI_CONTROL_CHANGE_MESSAGES[t]))throw new TypeError("Invalid controller name.")}else if(!(0<=(t=Math.floor(t))&&t<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("Controller value must be between 0 and 127.");return r.toMIDIChannels(n).forEach(function(n){this.send((r.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[t,e],this._parseTimeParameter(i.time))}.bind(this)),this},o.prototype._selectRegisteredParameter=function(t,e,n){var i=this;if(t[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(t[1]=Math.floor(t[1]),!(0<=t[1]&&t[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return r.toMIDIChannels(e).forEach((function(){i.sendControlChange(101,t[0],e,{time:n}),i.sendControlChange(100,t[1],e,{time:n})})),this},o.prototype._selectNonRegisteredParameter=function(t,e,n){var i=this;if(t[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(t[1]=Math.floor(t[1]),!(0<=t[1]&&t[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return r.toMIDIChannels(e).forEach((function(){i.sendControlChange(99,t[0],e,{time:n}),i.sendControlChange(98,t[1],e,{time:n})})),this},o.prototype._setCurrentRegisteredParameter=function(t,e,n){var i=this;if((t=[].concat(t))[0]=Math.floor(t[0]),!(0<=t[0]&&t[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return r.toMIDIChannels(e).forEach((function(){i.sendControlChange(6,t[0],e,{time:n})})),t[1]=Math.floor(t[1]),0<=t[1]&&t[1]<=127&&r.toMIDIChannels(e).forEach((function(){i.sendControlChange(38,t[1],e,{time:n})})),this},o.prototype._deselectRegisteredParameter=function(t,e){var n=this;return r.toMIDIChannels(t).forEach((function(){n.sendControlChange(101,127,t,{time:e}),n.sendControlChange(100,127,t,{time:e})})),this},o.prototype.setRegisteredParameter=function(t,e,n,i){var o=this;if(i=i||{},!Array.isArray(t)){if(!r.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=r.MIDI_REGISTERED_PARAMETER[t]}return r.toMIDIChannels(n).forEach((function(){o._selectRegisteredParameter(t,n,i.time),o._setCurrentRegisteredParameter(e,n,i.time),o._deselectRegisteredParameter(n,i.time)})),this},o.prototype.setNonRegisteredParameter=function(t,e,n,i){var o=this;if(i=i||{},!(0<=t[0]&&t[0]<=127&&0<=t[1]&&t[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return e=[].concat(e),r.toMIDIChannels(n).forEach((function(){o._selectNonRegisteredParameter(t,n,i.time),o._setCurrentRegisteredParameter(e,n,i.time),o._deselectRegisteredParameter(n,i.time)})),this},o.prototype.incrementRegisteredParameter=function(t,e,n){var i=this;if(n=n||{},!Array.isArray(t)){if(!r.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=r.MIDI_REGISTERED_PARAMETER[t]}return r.toMIDIChannels(e).forEach((function(){i._selectRegisteredParameter(t,e,n.time),i.sendControlChange(96,0,e,{time:n.time}),i._deselectRegisteredParameter(e,n.time)})),this},o.prototype.decrementRegisteredParameter=function(t,e,n){if(n=n||{},!Array.isArray(t)){if(!r.MIDI_REGISTERED_PARAMETER[t])throw new TypeError("The specified parameter is not available.");t=r.MIDI_REGISTERED_PARAMETER[t]}return r.toMIDIChannels(e).forEach(function(){this._selectRegisteredParameter(t,e,n.time),this.sendControlChange(97,0,e,{time:n.time}),this._deselectRegisteredParameter(e,n.time)}.bind(this)),this},o.prototype.setPitchBendRange=function(t,e,n,i){var o=this;if(i=i||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(n).forEach((function(){o.setRegisteredParameter("pitchbendrange",[t,e],n,{time:i.time})})),this},o.prototype.setModulationRange=function(t,e,n,i){var o=this;if(i=i||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The cents value must be between 0 and 127");return r.toMIDIChannels(n).forEach((function(){o.setRegisteredParameter("modulationrange",[t,e],n,{time:i.time})})),this},o.prototype.setMasterTuning=function(t,e,n){var i=this;if(n=n||{},(t=parseFloat(t)||0)<=-65||64<=t)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var o=Math.floor(t)+64,a=t-Math.floor(t),s=(a=Math.round((a+1)/2*16383))>>7&127,u=127&a;return r.toMIDIChannels(e).forEach((function(){i.setRegisteredParameter("channelcoarsetuning",o,e,{time:n.time}),i.setRegisteredParameter("channelfinetuning",[s,u],e,{time:n.time})})),this},o.prototype.setTuningProgram=function(t,e,n){var i=this;if(n=n||{},!(0<=(t=Math.floor(t))&&t<=127))throw new RangeError("The program value must be between 0 and 127");return r.toMIDIChannels(e).forEach((function(){i.setRegisteredParameter("tuningprogram",t,e,{time:n.time})})),this},o.prototype.setTuningBank=function(t,e,n){var i=this;if(n=n||{},!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The bank value must be between 0 and 127");return r.toMIDIChannels(e).forEach((function(){i.setRegisteredParameter("tuningbank",t,e,{time:n.time})})),this},o.prototype.sendChannelMode=function(t,e,n,i){if(i=i||{},"string"==typeof t){if(!(t=r.MIDI_CHANNEL_MODE_MESSAGES[t]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(t=Math.floor(t))&&t<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((e=Math.floor(e)||0)<0||127<e)throw new RangeError("Value must be an integer between 0 and 127.");return r.toMIDIChannels(n).forEach(function(n){this.send((r.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[t,e],this._parseTimeParameter(i.time))}.bind(this)),this},o.prototype.sendProgramChange=function(t,e,n){var i=this;if(n=n||{},t=Math.floor(t),isNaN(t)||t<0||127<t)throw new RangeError("Program numbers must be between 0 and 127.");return r.toMIDIChannels(e).forEach((function(e){i.send((r.MIDI_CHANNEL_MESSAGES.programchange<<4)+(e-1),[t],i._parseTimeParameter(n.time))})),this},o.prototype.sendChannelAftertouch=function(t,e,n){var i=this;n=n||{},t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=.5);var o=Math.round(127*t);return r.toMIDIChannels(e).forEach((function(t){i.send((r.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(t-1),[o],i._parseTimeParameter(n.time))})),this},o.prototype.sendPitchBend=function(t,e,n){var i=this;if(n=n||{},isNaN(t)||t<-1||1<t)throw new RangeError("Pitch bend value must be between -1 and 1.");var o=Math.round((t+1)/2*16383),a=o>>7&127,s=127&o;return r.toMIDIChannels(e).forEach((function(t){i.send((r.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(t-1),[s,a],i._parseTimeParameter(n.time))})),this},o.prototype._parseTimeParameter=function(t){var e,n=parseFloat(t);return"string"==typeof t&&"+"===t.substring(0,1)?n&&0<n&&(e=r.time+n):n>r.time&&(e=n),e},o.prototype._convertNoteToArray=function(t){var e=[];return Array.isArray(t)||(t=[t]),t.forEach((function(t){e.push(r.guessNoteNumber(t))})),e},e.exports?e.exports=r:t.WebMidi||(t.WebMidi=r)}(t)})));return function(t){var e=Object.assign({},{enabled:!0,gui:new fr.GUI,midiPerColor:2,colors:["#ee907b","#2ed9c3","#5887da","#b4b3df"]},t),n=[],r=e.gui,i=[],o={},a=!1,s=!1,u=null,l=function(){navigator.requestMIDIAccess&&(!window.env||"production"!==window.env)&&(u=Ds).enable((function(t){t?console.error("WebMIDI is not supported in this browser."):(console.log("MIDI devices successfully connected."),h())}))},c=function(){document.addEventListener("keydown",(function(t){18===t.keyCode&&(a=!0)})),document.addEventListener("keyup",(function(t){18===t.keyCode&&(a=!1)})),document.addEventListener("keyup",(function(t){17===t.keyCode&&e.toggle()}))},d=function(){var t=document.createElement("style");t.type="text/css";var n=1;e.colors.forEach((function(r,i){for(var o=0,a=e.midiPerColor;o<a;o++)t.appendChild(document.createTextNode("\n          .dg .cr:nth-child(".concat(e.colors.length*e.midiPerColor,"n + ").concat(n,") {\n            border-left-color: ").concat(r,";\n          }\n        "))),n++})),document.querySelector("head").appendChild(t)},h=function(){u.inputs.forEach((function(t){t.addListener("midimessage","all",f)}))},f=function(t){var e=an(t.data,3),n=e[0],r=e[1],i=e[2];a&&console.log("command: ".concat(n," / note: ").concat(r," / velocity: ").concat(i)),p(r,i),_(r,i)},p=function(t,n){var r=i.indexOf(t);if(!(r<0)){var o=e.getControllers().filter((function(t){return void 0!==on(t.min)&&void 0!==on(t.max)}))[r];if(o){var a=o.__min,s=o.__max,u=o.__step,l=u||(s-a)/127,c=Ns.utils.mapRange(0,127,a,s,n),d=Ns.utils.snap(l.toFixed(5),c);o.setValue(d)}}},_=function(t,n){o[t]&&o[t].call(e,n)};return e.add=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=r.add.apply(r,e);return i},e.addColor=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=r.addColor.apply(r,e);return i},e.setFolder=function(t){var i=e.gui.addFolder(t);return n.push(i),r=i,i},e.getControllers=function(){return n.reduce((function(t,n){return t.concat(e.gui.__controllers)}),e.gui.__controllers)},e.removeFolder=function(t){var i=n.findIndex((function(e){return e.name===t.name}));n.splice(i,1),e.gui.removeFolder(t),r=e.gui},e.connectMidiRange=function(t,e){for(var n=t,r=e+1;n<r;n++)i.push(n)},e.addControl=function(t,e){o[t]=e},e.destroy=function(){e.gui.destroy(),u&&(u.inputs.forEach((function(t){t.removeListener("midimessage","all")})),u.disable())},e.clear=function(){e.gui.destroy(),e.gui=new fr.GUI,r=e.gui,o={}},e.hide=function(){s=!0,e.gui.hide()},e.show=function(){s=!1,e.gui.show()},e.toggle=function(){(s=!s)?e.hide():e.show()},e.update=function(){e.getControllers().forEach((function(t){t.updateDisplay()}))},l(),c(),d(),e}}));
